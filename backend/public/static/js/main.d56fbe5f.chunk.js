(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{165:function(e,t,n){e.exports=n(400)},170:function(e,t,n){},229:function(e,t){},232:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),o=n.n(c),i=(n(170),n(12)),l=n(34),u=n(1),s=n.n(u),m=n(5),p=n(13),f=n(7),d=n(11),v=n(3),h=n(4),O=n(25),b=n.n(O),E=b.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/auth",withCredentials:!0}),g={signup:function(e){return E.post("/signup",e)},login:function(e){return E.post("/login",e)},logout:function(){return E.post("/logout",{token:localStorage.token})}},y=n(82),j=n.n(y),S="https://atldan-minerva.herokuapp.com/",C=j.a.connect(S,{query:"token=".concat(localStorage.token)});var w=C;n(232);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:"",password:""}),u=Object(f.a)(l,2),O=u[0],b=u[1],E=Object(a.useState)({className:"",notification:void 0}),y=Object(f.a)(E,2),w=y[0],x=y[1];Object(a.useEffect)((function(){o(!0),localStorage.user&&e.history.push("/main")}),[e.history]);var k=function(e){var t=e.target.name,n=e.target.value;b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O,Object(p.a)({},t,n)))},P=function(){var t=Object(m.a)(s.a.mark((function t(n){var a,c,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,g.login(O);case 4:a=t.sent,c=a.data,o=c.user,i=c.token,localStorage.user=JSON.stringify(o),localStorage.token=i,C=j.a.connect(S,{query:"token=".concat(localStorage.token)}),e.history.push("/main"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),401===t.t0.response.status&&x({networkError:{className:"error-animation",notification:r.a.createElement("div",{className:"error-network"},"Incorrect email or passwor")}}),x({networkError:{className:"error-animation",notification:r.a.createElement("div",{className:"error-network"},"Something went wrong on the server")}});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"container container--login"},r.a.createElement("div",{className:"card card--login ".concat(w.className)},r.a.createElement("h2",null,"Log in"),w.notification,r.a.createElement("form",{onSubmit:P},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:h.h}),r.a.createElement("input",{type:"text",name:"email",id:"email",value:O.email,onChange:k})),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:h.m}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:O.password,onChange:k})),r.a.createElement("input",{type:"submit",value:"Login",className:"submit"}),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"If you don't have an account yet, you can create one ",r.a.createElement(i.b,{to:"/signup"},"here")))))):void 0)}var k=n(162),P=n.n(k);n(296);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){var t=this,n=Object(a.useState)(!1),c=Object(f.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)({email:"",password:"",confirmPassword:"",name:""}),u=Object(f.a)(l,2),O=u[0],b=u[1],E=Object(a.useState)({className:"",notification:void 0}),y=Object(f.a)(E,2),j=y[0],S=y[1],C=Object(a.useState)({className:"",notification:void 0}),w=Object(f.a)(C,2),N=w[0],x=w[1];Object(a.useEffect)((function(){localStorage.user&&t.props.history.push("/profile"),i(!0)}),[]),Object(a.useEffect)((function(){O.password!==O.confirmPassword?S({className:"danger",notification:r.a.createElement("span",{className:"error-form"},"Both passwords must be the same")}):S({className:"",notification:void 0}),P.a.isEmail(O.email)?x({className:"",notification:void 0}):x({className:"danger",notification:r.a.createElement("span",{className:"error-form"},"Please introduce a valid email")})}),[O]);var k=function(e){var t=e.target.name,n=e.target.value;b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O,Object(p.a)({},t,n)))},T=function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,g.signup(O);case 3:a=t.sent,r=a.data,c=r.user,o=r.token,localStorage.user=JSON.stringify(c),localStorage.token=o,i(!1),setTimeout((function(){return e.history.push("/")}),200);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},o?r.a.createElement("div",{className:"container container--signup"},r.a.createElement("div",{className:"card card--signup"},r.a.createElement("h2",null,"Sign up"),r.a.createElement("form",{onSubmit:T},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:h.t}),r.a.createElement("input",{type:"text",name:"name",id:"name",value:O.name,onChange:k})),r.a.createElement("label",{htmlFor:"email"},"Email ",N.notification),r.a.createElement("div",{className:"input ".concat(N.className)},r.a.createElement(v.a,{className:"icon",icon:h.h}),r.a.createElement("input",{type:"text",name:"email",id:"email",value:O.email,onChange:k})),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:h.m}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:O.password,onChange:k})),r.a.createElement("label",{htmlFor:"password"},"Verify password ",j.notification),r.a.createElement("div",{className:"input ".concat(j.className)},r.a.createElement(v.a,{className:"icon",icon:h.m}),r.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:O.confirmPassword,onChange:k})),r.a.createElement("input",{type:"submit",className:"submit",value:"Sign up"})))):void 0)}n(297);function A(e){return Object(a.useEffect)((function(){if(localStorage.user)return e.history.push("/main")}),[e.history]),r.a.createElement("div",{className:"container container--landing"},r.a.createElement("div",{className:"slogan"},r.a.createElement("h1",null,"Minerva"),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, tempora optio aspernatur sapiente quae natus enim recusandae minima delectus ducimus! Aperiam, nisi animi tempora porro veniam facilis corrupti eaque harum!"),r.a.createElement("div",{className:"identify"},r.a.createElement(i.b,{to:"/signup",className:"signup"},"Signup"),r.a.createElement(i.b,{to:"/login",className:"login"},"Login")))}var _=function(e){w.on("savedQuote",(function(t){return e(null,t)}))},q=function(e){w.on("updatedQuote",(function(t){return e(null,t)}))},D=function(e,t,n,a){w.emit("editQuote",{editorState:e,editorHtml:n},t,a)};function Q(){w.removeAllListeners()}var F=n(163),L=n.n(F),I=n(85),B=n.n(I),U=n(26),G=n(27),M=n(29),J=n(28),K=n(30),W=n(23),H=n(164),z=n.n(H),V=(n(159),n(389),function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={editorState:W.EditorState.createEmpty(),id:n.props.id,textDocument:n.props.textDocument},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.handleSaved((function(e,t){n.props.handleId(t._id),n.setState({id:t._id})})),n.props.handleGetDocument((function(e){var t=Object(W.convertFromRaw)(JSON.parse(e.body));n.setState({editorState:W.EditorState.createWithContent(t)})}));case 2:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(e){n.props.ocrText&&n.props.ocrText!==e.ocrText&&n.setState({editorState:W.EditorState.createWithContent(W.ContentState.createFromText(n.props.ocrText))}),n.props.handleDocument(n.state.id)},n.componentWillUnmount=function(){n.props.handleDocument(n.state.textDocument),n.props.handleUnmount()},n.editorOnChange=function(e){var t=Object(W.convertToRaw)(e.getCurrentContent());n.props.handleUpdate(t,n.state.id,z()(t)),n.setState({editorState:e})},n.handleKeyCommand=function(e,t){var a=W.RichUtils.handleKeyCommand(t,e);return a?(n.editorOnChange(a),"handled"):"not-handled"},n._onBoldClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"BOLD"))},n._onItalicClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"ITALIC"))},n._onUnderlineClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"UNDERLINE"))},n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"min-editor"},r.a.createElement("div",{className:"menu-styles"},r.a.createElement("button",null,r.a.createElement(v.a,{icon:h.j})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this._onBoldClick},r.a.createElement(v.a,{icon:h.b})),r.a.createElement("button",{onClick:this._onItalicClick},r.a.createElement(v.a,{icon:h.l})),r.a.createElement("button",{onClick:this._onUnderlineClick},r.a.createElement(v.a,{icon:h.s})))),r.a.createElement(W.Editor,{editorState:this.state.editorState,onChange:this.editorOnChange,handleKeyCommand:this.handleKeyCommand}))}}]),t}(a.Component)),Y=n(32),Z=b.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/collections",withCredentials:!0}),$={createCollection:function(e){return Z.post("/",e)},getAllCollections:function(){return Z.get("/")},getOneCollection:function(e){return Z.get("/".concat(e))},updateCollection:function(e,t){return Z.put("/".concat(e),t)},deleteCollection:function(e){return Z.delete("/".concat(e))}};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=Object(a.createContext)(),ne=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={collections:[],currentCollection:{name:"",contributors:[],quotes:[]},filtersCollections:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllCollections();case 1:case"end":return e.stop()}}),e)}))),n.cleanCurrentCollection=function(){n.setState({})},n.getAllCollections=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getAllCollections();case 2:t=e.sent,a=t.data,n.setState({collections:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getOneCollection(t);case 2:a=e.sent,r=a.data,n.setState({currentCollection:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.createCollection(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.collections;return{collections:[].concat(Object(Y.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.updateCollection(t,a);case 2:r=e.sent,c=r.data,n.setState((function(e){return{collections:e.collections.map((function(e){return e._id===c._id?c:e}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.deleteOneQuoteFromCollection=function(e){n.setState((function(t){var n=t.currentCollection,a=n.quotes.filter((function(t){return t._id!==e._id}));return{currentCollection:ee({},n,{quotes:a})}}))},n.deleteOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.deleteCollection(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{collections:e.collections.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.collections,n=e.currentCollection,a=e.filtersCollections,c=this.getAllCollections,o=this.getOneCollection,i=this.createOneCollection,l=this.deleteOneCollection,u=this.updateOneCollection,s=this.cleanCurrentCollection,m=this.deleteOneQuoteFromCollection;return r.a.createElement(te.Provider,{value:{collections:t,currentCollection:n,filtersCollections:a,getAllCollections:c,getOneCollection:o,createOneCollection:i,updateOneCollection:u,deleteOneCollection:l,cleanCurrentCollection:s,deleteOneQuoteFromCollection:m}},this.props.children)}}]),t}(a.Component),ae=b.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/quotes",withCredentials:!0}),re={createQuote:function(e){return ae.post("/",e)},getAllQuotes:function(){return ae.get("/")},getOneQuote:function(e){return ae.get("/".concat(e))},updateQuote:function(e,t){return ae.put("/".concat(e),t)},deleteQuote:function(e){return ae.delete("/".concat(e))}},ce=Object(a.createContext)(),oe=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={quotes:[],currentQuote:{},filters:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllQuotes();case 1:case"end":return e.stop()}}),e)}))),n.getAllQuotes=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.getAllQuotes();case 2:t=e.sent,a=t.data,n.setState({quotes:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.getOneQuote(t);case 2:a=e.sent,r=a.data,n.setState({currentQuote:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.createQuote(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.quotes;return{quotes:[].concat(Object(Y.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.updateQuote(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.addQuote=function(e){n.setState((function(t){var n=t.quotes;return JSON.stringify(n).includes(e._id)?{quotes:n.map((function(t){return t._id===e._id?e:t}))}:{quotes:[].concat(Object(Y.a)(n),[e])}}))},n.deleteOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.deleteQuote(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{quotes:e.quotes.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.quotes,n=e.currentQuote,a=e.filter,c=this.getAllQuotes,o=this.getOneQuote,i=this.createOneQuote,l=this.deleteOneQuote,u=this.addQuote,s=this.updateOneQuote;return r.a.createElement(ce.Provider,{value:{quotes:t,currentQuote:n,filter:a,getAllQuotes:c,getOneQuote:o,createOneQuote:i,deleteOneQuote:l,addQuote:u,updateOneQuote:s}},this.props.children)}}]),t}(a.Component),ie=b.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/references",withCredentials:!0}),le={createReference:function(e){return ie.post("/",e)},getAllReferences:function(){return ie.get("/")},getOneReference:function(e){return ie.get("/".concat(e))},updateReference:function(e,t){return ie.put("/".concat(e),t)},deleteReference:function(e){return ie.delete("/".concat(e))}};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(a.createContext)(),pe=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={references:[],currentReference:{type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:"",language:"",isbn:"",url:"",doi:"",accessed:"",archive:""},filtersReferences:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllReferences();case 1:case"end":return e.stop()}}),e)}))),n.cleanCurrentReference=function(){n.setState({currentReference:{type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:"",language:"",isbn:"",url:"",doi:"",accessed:"",archive:""}})},n.getAllReferences=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.getAllReferences();case 2:t=e.sent,a=t.data,n.setState({references:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.getOneReference(t);case 2:a=e.sent,r=a.data,n.setState({currentReference:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.createReference(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.references;return{references:[].concat(Object(Y.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.updateReference(t,a);case 2:r=e.sent,c=r.data,n.setState((function(e){return{references:e.references.map((function(e){return e._id===c._id?c:e}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.deleteOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.deleteReference(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{references:e.references.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteOneQuoteFromReference=function(e){n.setState((function(t){var n=t.currentReference,a=n.quotes.filter((function(t){return t._id!==e._id}));return{currentReference:se({},n,{quotes:a})}}))},n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.references,n=e.currentReference,a=e.filtersReferences,c=this.getAllReferences,o=this.getOneReference,i=this.createOneReference,l=this.deleteOneReference,u=this.updateOneReference,s=this.cleanCurrentReference;return r.a.createElement(me.Provider,{value:{references:t,currentReference:n,filtersReferences:a,getAllReferences:c,getOneReference:o,createOneReference:i,updateOneReference:u,deleteOneReference:l,cleanCurrentReference:s}},this.props.children)}}]),t}(a.Component);n(390);function fe(e){var t=Object(a.useContext)(ce),n=t.addQuote,c=t.updateOneQuote,o=Object(a.useContext)(te),i=o.collections,l=o.updateOneCollection,u=o.getAllCollections,p=Object(a.useContext)(me).references,O=Object(a.useState)(e.match.params.id),b=Object(f.a)(O,2),E=b[0],g=b[1],y=Object(a.useState)(void 0),j=Object(f.a)(y,2),S=j[0],C=j[1],w=Object(a.useState)(""),N=Object(f.a)(w,2),x=N[0],k=(N[1],Object(a.useState)(!1)),P=Object(f.a)(k,2),R=P[0],T=P[1],A=Object(a.useState)(!1),F=Object(f.a)(A,2),I=F[0],U=F[1],G=Object(a.useState)(!1),M=Object(f.a)(G,2),J=M[0],K=M[1],W=Object(a.useState)(void 0),H=Object(f.a)(W,2),z=H[0],Y=H[1],Z=Object(a.useState)(i),$=Object(f.a)(Z,2),X=$[0],ee=$[1];Object(a.useEffect)((function(){K(!0)}),[]),Object(a.useEffect)((function(){return z&&(ee(i.filter((function(e){return!e.quotes.includes(z._id)}))),u()),function(){z&&n(z)}}),[z,i,n,u]);var ne=function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.match.params.id){t.next=7;break}return t.next=3,re.getOneQuote(E);case 3:a=t.sent,r=a.data,Y(r),n(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,B.a.recognize(t,"eng").progress((function(e){}));case 3:n=e.sent,B.a.terminate(),C(n.text),T(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(t.target.files[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){K(!1),setTimeout((function(){e.history.goBack()}),200)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},J?r.a.createElement("div",{className:"quote-container"},r.a.createElement("div",{className:"quote"},r.a.createElement("div",{className:"quote-editor"},r.a.createElement("div",null,r.a.createElement("div",{className:"quote-menu"},r.a.createElement("div",{className:"upload-wrapper"},r.a.createElement("button",null,r.a.createElement(v.a,{icon:h.k})),r.a.createElement("input",{type:"file",onChange:oe})),r.a.createElement("button",{onClick:function(){return U(!0)}},r.a.createElement(v.a,{icon:h.d})),r.a.createElement("button",null,r.a.createElement(v.a,{icon:h.c})),R?r.a.createElement("div",{className:"spin-circle"}):void 0),function(){if(x)return r.a.createElement("div",null,r.a.createElement("img",{src:x,alt:"attached"}))}()),r.a.createElement(V,{handleSaved:_,handleUpdate:D,isQuote:!0,id:E,handleId:g,handleDocument:function(e){e&&q((function(e,t){Y(t)}))},ocrText:S,textDocument:z,handleGetDocument:ne,handleUnmount:Q})),z?r.a.createElement("div",{className:"editor-meta"},r.a.createElement("div",{className:"add-to-collection"},r.a.createElement("select",{name:"collection",id:"collection"},X.map((function(e){var t=e._id,n=e.name;return r.a.createElement("option",{key:t,value:t},n)}))),r.a.createElement("button",{onClick:function(){var e=document.querySelector("#collection").value,t=X.find((function(t){return t._id===e}));t.quotes.push(z._id),l(e,t)}},"Add")),r.a.createElement("div",{className:"add-to-reference"},r.a.createElement("select",{name:"refrence",id:"reference"},p.map((function(e){var t=e._id,n=e.authors,a=e.title;return r.a.createElement("option",{key:t,value:t},"".concat(n[0].lastName,", ").concat(n[0].lastName.charAt(0),". ").concat(a))}))),r.a.createElement("button",{onClick:function(){var e=document.querySelector("#reference").value;c(z._id,{referenceFrom:e})}},"Set"))):void 0),I?r.a.createElement(L.a,{onTakePhoto:function(e){ae(e),U(!1)},isFullscreen:!0}):void 0):void 0))}n(391);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)({type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:0,language:"",isbn:"",url:"",doi:"",accessed:"",archive:""}),l=Object(f.a)(i,2),u=l[0],v=l[1],h=Object(a.useContext)(me),O=h.currentReference,b=h.getOneReference,E=h.createOneReference,g=h.updateOneReference,y=h.cleanCurrentReference;Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){if(!u._id&&e.match.params.id||u._id!==e.match.params.id){for(var t in b(e.match.params.id),O)null===O[t]&&(O[t]="");v(ve({},O,{lastName:O.authors?O.authors[0].lastName:"",firstName:O.authors?O.authors[0].firstName:""}))}}),[O,b,e.match.params.id,u._id]);var j=function(e){v(ve({},u,Object(p.a)({},e.target.name,e.target.value)))},S=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),u._id?g(u._id,ve({},u,{authors:[{firstName:u.firstName,lastName:u.lastName}]})):E(ve({},u,{authors:[{firstName:u.firstName,lastName:u.lastName}]})),y(),o(!1),setTimeout((function(){e.history.goBack()}),200);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){o(!1),setTimeout((function(){e.history.goBack()}),250)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"reference-container"},r.a.createElement("form",{className:"reference",onSubmit:S},r.a.createElement("h2",null,e.match.params.id?"Edit reference":"Add reference"),r.a.createElement("select",{name:"type",id:"type"},r.a.createElement("option",{value:"BOOK"},"Book"),r.a.createElement("option",{value:"BOOK_SECTION"},"Book Section"),r.a.createElement("option",{value:"ENCYCLOPEDIA_ARTICLE"},"Encyclopedia article"),r.a.createElement("option",{value:"JOURNAL_ARTICLE"},"Journal article"),r.a.createElement("option",{value:"MAGAZINE_ARTICLE"},"Magazine article"),r.a.createElement("option",{value:"NEWSPAPER_ARTICLE"},"Newspaper article"),r.a.createElement("option",{value:"THESIS"},"Thesis"),r.a.createElement("option",{value:"WEB_PAGE"},"Web page")),r.a.createElement("div",{className:"fields"},r.a.createElement("label",{htmlFor:"Title"},"Title"),r.a.createElement("input",{type:"text",name:"title",value:u.title,onChange:j}),r.a.createElement("label",{htmlFor:"author.firstName"},"First name"),r.a.createElement("input",{type:"text",name:"firstName",id:"firstName",value:u.firstName,onChange:j}),r.a.createElement("label",{htmlFor:"author.lastName"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastName",id:"lastName",value:u.lastName,onChange:j}),r.a.createElement("label",{htmlFor:"publiser"},"Publisher"),r.a.createElement("input",{type:"text",name:"publisher",id:"publiser",value:u.publisher,onChange:j}),r.a.createElement("label",{htmlFor:"place"},"Place"),r.a.createElement("input",{type:"text",name:"place",id:"place",value:u.place,onChange:j}),r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"date",name:"date",id:"date",value:u.date,onChange:j}),r.a.createElement("label",{htmlFor:"numberOfPages"},"Number of pages"),r.a.createElement("input",{type:"number",name:"numberOfPages",id:"numberOfPages",value:u.numberOfPages,onChange:j}),r.a.createElement("label",{htmlFor:"volume"},"Volume"),r.a.createElement("input",{type:"number",name:"volume",id:"volume",value:u.volume,onChange:j}),r.a.createElement("label",{htmlFor:"url"},"Website url"),r.a.createElement("input",{type:"url",name:"url",id:"url",value:u.url,onChange:j}),r.a.createElement("label",{htmlFor:"accessed"},"Date of access"),r.a.createElement("input",{type:"date",name:"accessed",id:"accessed",value:u.accessed,onChange:j}),r.a.createElement("label",{htmlFor:"edition"},"Edition"),r.a.createElement("input",{type:"text",name:"edition",id:"edition",value:u.edition,onChange:j}),r.a.createElement("label",{htmlFor:"archive"},"Archive"),r.a.createElement("input",{type:"text",name:"archive",id:"archive",value:u.archive,onChange:j}),r.a.createElement("label",{htmlFor:"language"},"Language"),r.a.createElement("input",{type:"text",name:"language",id:"language",value:u.language,onChange:j}),r.a.createElement("label",{htmlFor:"isbn"},"ISBN"),r.a.createElement("input",{type:"text",name:"isbn",id:"isbn",value:u.isbn,onChange:j}),r.a.createElement("label",{htmlFor:"doi"},"DOI"),r.a.createElement("input",{type:"text",name:"doi",id:"doi",value:u.doi,onChange:j})),r.a.createElement("input",{type:"submit",value:"Save reference"}))):void 0))}n(392);function Oe(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1],o=JSON.parse(localStorage.user);return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-left"},r.a.createElement(v.a,{icon:h.a}),r.a.createElement("div",{className:"minerva"},r.a.createElement(i.b,{to:"/main"},"Minerva"))),r.a.createElement("div",{className:"navbar-center"},r.a.createElement("div",{className:"search"},r.a.createElement(v.a,{icon:h.q}),r.a.createElement("input",{type:"text",placeholder:"Search"}))),r.a.createElement("div",{className:"navbar-right"},r.a.createElement("div",{className:"avatar",onClick:function(){return c(!n)}},r.a.createElement("img",{src:"http://bion.com.ua/wp-content/uploads/2016/04/empty_avatar.jpg",alt:"user"})))),r.a.createElement(d.CSSTransitionGroup,{transitionName:"navbars",transitionEnterTimeout:250,transitionLeaveTimeout:200},n?r.a.createElement("nav",{className:"user-sidebar"},r.a.createElement("h3",null,o.name),r.a.createElement("div",{className:"session"},r.a.createElement(i.b,{to:"/profile"},"Profile"),r.a.createElement("button",null,"Logout"))):void 0))}n(393);function be(){var e=Object(a.useContext)(me).references;return r.a.createElement("div",{className:"references"},r.a.createElement("h3",null,r.a.createElement(v.a,{icon:h.c})," References"),e.map((function(e){var t=e.authors,n=e.title,a=e._id;return r.a.createElement("div",{key:a,className:"reference-item"},r.a.createElement("div",null,r.a.createElement(i.c,{to:"/main/references/".concat(a),activeClassName:"current-reference"},"".concat(t[0].lastName,", ").concat(t[0].firstName.charAt(0),". ").concat(n))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/main/reference/".concat(a,"/edit")},r.a.createElement(v.a,{icon:h.f}))))})))}n(394);var Ee=b.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/styles",withCredentials:!0}),ge={createStyle:function(e){return Ee.post("/",e)},getAllStyles:function(){return Ee.get("/")},getOneStyle:function(e){return Ee.get("/".concat(e))},updateStyle:function(e,t){return Ee.put("/".concat(e),t)},deleteStyle:function(e){return Ee.delete("/".concat(e))}},ye=Object(a.createContext)(),je=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={styles:[],currentStyle:{},filtersStyles:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllStyles();case 1:case"end":return e.stop()}}),e)}))),n.getAllStyles=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.getAllStyles();case 2:t=e.sent,a=t.data,n.setState({styles:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.styles.find((function(e){return e._id===t})),n.setState({currentStyle:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.createStyle(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.styles;return{styles:[].concat(Object(Y.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.deleteStyle(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{styles:e.styles.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.styles,n=e.currentStyle,a=e.filtersStyles,c=this.getAllStyles,o=this.getOneStyle,i=this.createOneStyle,l=this.deleteOneStyle,u=this.updateOneStyle,s=this.cleanCurrentStyle;return r.a.createElement(ye.Provider,{value:{styles:t,currentStyle:n,filtersStyles:a,getAllStyles:c,getOneStyle:o,createOneStyle:i,updateOneStyle:u,deleteOneStyle:l,cleanCurrentStyle:s}},this.props.children)}}]),t}(a.Component);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)({name:"",defaultStyle:"",contributors:[],quotes:[]}),l=Object(f.a)(i,2),u=l[0],v=l[1],h=Object(a.useContext)(te),O=h.createOneCollection,b=h.currentCollection,E=h.getOneCollection,g=h.updateOneCollection,y=h.cleanCurrentCollection,j=Object(a.useContext)(ye).styles;Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){if(!u._id&&e.match.params.id||u._id!==e.match.params.id){for(var t in E(e.match.params.id),b)null===b[t]&&(b[t]="");v(b)}}),[b,u._id,E,e.match.params.id]);var S=function(e){v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,Object(p.a)({},e.target.name,e.target.value)))},C=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),u._id?g(u._id,u):O(u),y(),o(!1),setTimeout((function(){e.history.goBack()}),200);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){o(!1),setTimeout((function(){e.history.goBack()}),250)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-container"},r.a.createElement("form",{className:"collection",onSubmit:C},r.a.createElement("h2",null,e.match.params.id?"Edit collection":"Add collection"),r.a.createElement("label",{htmlFor:"name"},"Name of the collection"),r.a.createElement("input",{type:"text",name:"name",id:"name",onChange:S,value:u.name}),r.a.createElement("label",{htmlFor:"defaulStyle"},"Style"),r.a.createElement("select",{name:"defaultStyle",id:"defaultStyle",onChange:S},j.map((function(e){var t=e._id,n=e.name;return r.a.createElement("option",{value:t},n)}))),r.a.createElement("label",{htmlFor:"quotes"},"Add quotes"),r.a.createElement("input",{type:"text",name:"quotes",id:"quotes"}),r.a.createElement("label",{htmlFor:"contributors"},"Add contributors"),r.a.createElement("input",{type:"text",name:"contributors",id:"contributors"}),r.a.createElement("input",{type:"submit",value:"Save collection"}))):void 0))}n(395);function we(){var e=Object(a.useContext)(te).collections;return r.a.createElement("div",{className:"collections"},r.a.createElement("h3",null,r.a.createElement(v.a,{icon:h.i})," Collections"),e.map((function(e){var t=e.name,n=e._id;return r.a.createElement("div",{key:n,className:"collection-item"},r.a.createElement("div",null,r.a.createElement(i.c,{to:"/main/collections/".concat(n),activeClassName:"current-collection"},t)),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/main/collection/".concat(n,"/edit")},r.a.createElement(v.a,{icon:h.f}))))})))}n(396);function Ne(e){var t=e.quote,n=Object(a.useState)(!1),c=Object(f.a)(n,2),o=c[0],l=c[1],u=Object(a.useContext)(ce).deleteOneQuote,s=Object(a.useContext)(te),m=s.currentCollection,p=s.deleteOneQuoteFromCollection,O=Object(a.useContext)(me),b=O.currentReference,E=O.deleteOneQuoteFromReference;return r.a.createElement("div",{className:"quote-card"},r.a.createElement(i.b,{to:"/main/quote/".concat(t._id),className:"content"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.html}})),r.a.createElement("div",{className:"meta"},r.a.createElement("div",null,r.a.createElement("h3",null,"Title")),r.a.createElement("div",{className:"options ".concat(o?"options-active":"")},r.a.createElement("button",{className:"options-button",onClick:function(){return l(!o)}},r.a.createElement(v.a,{icon:h.g})),r.a.createElement(d.CSSTransitionGroup,{transitionName:"options",transitionEnterTimeout:250,transitionLeaveTimeout:200},o?r.a.createElement("div",{className:"options-actions"},r.a.createElement("button",{onClick:function(){u(t._id),m._id&&p(t),b._id&&E(t)},className:"delete"},r.a.createElement(v.a,{icon:h.r})," Delete"),r.a.createElement("button",{className:"edit"},r.a.createElement(v.a,{icon:h.n})," Change reference")):void 0))))}function xe(e){var t=Object(a.useContext)(ce).quotes,n=e.quotes||t;return r.a.createElement("div",{className:"quotes-container"},n.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(Ne,{quote:e}))})))}n(397);function ke(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useContext)(te),l=i.currentCollection,u=i.getOneCollection,s=i.cleanCurrentCollection;return Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){return u(e.match.params.id),o(!1),setTimeout((function(){o(!0)}),280),function(){s()}}),[e.match.params.id,u,s]),r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-overview"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:h.i})," ",l.name),r.a.createElement(xe,{quotes:l.quotes})):void 0)}n(398);function Pe(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){return c(!0),function(){c(!1)}}),[]),r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},n?r.a.createElement("div",{className:"default-view"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:h.e})," Recent"),r.a.createElement(xe,null)):void 0)}function Re(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=e.match.params.id,l=Object(a.useContext)(me),u=l.currentReference,s=l.getOneReference;return Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){s(i),o(!1),setTimeout((function(){o(!0)}),280)}),[i,s]),r.a.createElement("div",null,r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-overview"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:h.c})," ".concat(u.authors?"".concat(u.authors[0].lastName,", "):""," \n                ").concat(u.authors?"".concat(u.authors[0].firstName.charAt(0),"."):""," \n                ").concat(u.title)),r.a.createElement(xe,{quotes:u.quotes})):void 0))}n(399);function Te(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){if(!localStorage.user)return e.history.push("/login")}),[e.history]),r.a.createElement(je,null,r.a.createElement(ne,null,r.a.createElement(pe,null,r.a.createElement(oe,null,r.a.createElement("div",{className:"layout-container"},r.a.createElement(Oe,null),r.a.createElement("div",{className:"layout"},r.a.createElement(we,null),r.a.createElement(be,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/main",component:Pe}),r.a.createElement(l.a,{exact:!0,path:"/main/collections/:id",component:ke}),r.a.createElement(l.a,{exact:!0,path:"/main/references/:id",component:Re})),r.a.createElement("div",{className:"add-content"},r.a.createElement(d.CSSTransitionGroup,{transitionName:"plus-button",transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"add-content-buttons"},r.a.createElement("div",null,"Add quote",r.a.createElement(i.b,{to:"/main/quote/add",onClick:function(){return o(!c)}},r.a.createElement("button",{className:"plus-quote"},r.a.createElement(v.a,{icon:h.p})))),r.a.createElement("div",null,"Add reference ",r.a.createElement(i.b,{to:"/main/reference/add"},r.a.createElement("button",{className:"plus-reference"},r.a.createElement(v.a,{icon:h.c})))),r.a.createElement("div",null,"Add collection ",r.a.createElement(i.b,{to:"/main/collection/add"},r.a.createElement("button",{className:"plus-collection"},r.a.createElement(v.a,{icon:h.i}))))):void 0),r.a.createElement("button",{onClick:function(){return o(!c)}},r.a.createElement(v.a,{icon:h.o})))),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/main/quote/add",component:fe}),r.a.createElement(l.a,{exact:!0,path:"/main/quote/:id",component:fe}),r.a.createElement(l.a,{exact:!0,path:"/main/reference/add",component:he}),r.a.createElement(l.a,{exact:!0,path:"/main/reference/:id/edit",component:he}),r.a.createElement(l.a,{exact:!0,path:"/main/collection/add",component:Ce}),r.a.createElement(l.a,{exact:!0,path:"/main/collection/:id/edit",component:Ce}))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:A}),r.a.createElement(l.a,{path:"/main",component:Te}),r.a.createElement(l.a,{exact:!0,path:"/login",component:x}),r.a.createElement(l.a,{exact:!0,path:"/signup",component:T}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,2]]]);
//# sourceMappingURL=main.d56fbe5f.chunk.js.map