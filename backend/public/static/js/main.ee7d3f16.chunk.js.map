{"version":3,"sources":["services/auth.js","services/editor.js","components/auth/Login.js","components/auth/Signup.js","components/Landing.js","components/editor/Editor.js","services/collections.js","context/CollectionsContext.js","services/quotes.js","context/QuotesContext.js","services/references.js","context/ReferencesContext.js","components/editor/Quote.js","components/forms/Reference.js","components/overview/Navbar.js","components/overview/References.js","services/styles.js","context/StylesContext.js","components/forms/Collection.js","components/overview/Collections.js","components/overview/QuoteCard.js","components/overview/Quotes.js","components/overview/CollectionOverview.js","components/overview/DefaultView.js","components/overview/ReferenceOverview.js","components/overview/DeleteCollection.js","components/overview/Members.js","components/overview/Layout.js","serviceWorker.js","index.js","Router.js"],"names":["SERVICE","axios","create","baseURL","withCredentials","AUTH_SERVICE","signup","user","post","login","logout","token","localStorage","socket","io","connect","query","reconnection","savedQuote","cb","on","quote","updatedQuote","updateQuote","editorState","id","editorHtml","referenceFrom","emit","cleanConnection","removeAllListeners","Login","props","useState","isVisible","setIsVisible","email","password","userData","setUserData","className","notification","undefined","networkError","setNetworkError","useEffect","history","push","handleInput","e","key","target","name","value","onSubmit","a","preventDefault","data","JSON","stringify","status","transitionName","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout","component","htmlFor","icon","faEnvelope","type","onChange","faLock","to","Signup","confirmPassword","passwordError","setPasswordError","emailError","setEmailError","validator","isEmail","setTimeout","faUser","Landing","Editor","state","EditorState","createEmpty","textDocument","componentDidMount","handleSaved","err","handleId","_id","setState","handleGetDocument","blocks","convertFromRaw","parse","body","createWithContent","componentDidUpdate","prevProps","ocrText","ContentState","createFromText","handleDocument","componentWillUnmount","handleUnmount","editorOnChange","rawContent","convertToRaw","getCurrentContent","handleUpdate","draftToHtml","handleKeyCommand","command","newState","RichUtils","_onBoldClick","toggleInlineStyle","_onItalicClick","_onUnderlineClick","faFont","onClick","this","faBold","faItalic","faUnderline","Draft","Component","COLLECTIONS_SERVICE","createCollection","collection","getAllCollections","get","getOneCollection","updateCollection","update","put","deleteCollection","delete","CollectionsContext","createContext","CollectionsProvider","collections","currentCollection","contributors","pending","quotes","userFrom","filtersCollections","cleanCurrentCollection","createOneCollection","prevState","updateOneCollection","console","log","newCollection","map","deleteOneQuoteFromCollection","quoteToRemove","filter","deleteOneCollection","collectionToRemove","Provider","children","QUOTES_SERVICE","createQuote","getAllQuotes","getOneQuote","deleteQuote","QuotesContext","QuotesProvider","currentQuote","filters","createOneQuote","updateOneQuote","addQuote","oldQuotes","includes","deleteOneQuote","REFERENCE_SERVICE","createReference","reference","getAllReferences","getOneReference","updateReference","deleteReference","ReferencesContext","ReferencesProvider","references","currentReference","title","firstName","lastName","volume","edition","place","publisher","date","numberOfPages","language","isbn","url","doi","accessed","archive","filtersReferences","cleanCurrentReference","REFERENCES_SERVICE","createOneReference","updateOneReference","newReference","deleteOneReference","referenceToRemove","deleteOneQuoteFromReference","Quote","useContext","allCollections","match","params","setId","setOcrText","isLoading","setIsLoading","isCameraActive","setIsCameraActive","isFormatVisible","setIsFormatVisible","setQuote","setCollections","document","classList","add","remove","scanText","image","Tesseract","recognize","progress","p","result","terminate","text","handleAttachment","files","setCollection","querySelector","find","setReference","goBack","faImage","faCamera","faBook","isQuote","authors","charAt","onTakePhoto","dataUri","isFullscreen","isImageMirror","Reference","canDelete","setCanDelete","referenceData","setReferenceData","handleDelete","Navbar","isUsernavbarVisible","setIsUsernabarVisible","setUser","clear","faBars","src","avatar","alt","References","activeClassName","faEdit","STYLE_SERVICE","createStyle","style","getAllStyles","getOneStyle","updateStyle","deleteStyle","StylesContext","StylesProvider","styles","currentStyle","filtersStyles","STYLES_SERVICE","createOneStyle","deleteOneStyle","styleToRemove","updateOneStyle","cleanCurrentStyle","Collection","defaultStyle","collectionData","setCollectionData","Collections","faFolder","QuoteCard","isOptionsVisible","setIsOptionsVisible","dangerouslySetInnerHTML","__html","html","faEllipsisV","faTrash","faPenSquare","Quotes","contextQuotes","CollectionOverview","isOptionsActive","setIsOptionsActive","faUserFriends","DefaultView","faClock","ReferenceOverview","DeleteCollection","setName","handleClose","faTimesCircle","disabled","Members","setEmail","setResult","handleAddUser","faUserPlus","avater","contributor","pendingContributor","Layout","isPlusActive","setIsPlusActive","exact","path","faQuoteRight","faPlus","Boolean","window","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ee7d3f16.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/auth' : 'http://localhost:3000/api/auth';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst AUTH_SERVICE = {\n  signup: (user) => SERVICE.post('/signup', user),\n  login: (user) => SERVICE.post('/login', user),\n  logout: () => SERVICE.post('/logout', { token: localStorage.token})\n}\n\nexport default AUTH_SERVICE;","import io from 'socket.io-client';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/' : 'http://localhost:3000/'\n\nlet socket = io.connect(baseURL, {\n  query: `token=${localStorage.token}`,\n  reconnection: false\n});\n\n\nfunction restartSocket() {\n  socket = io.connect(baseURL, {\n    query: `token=${localStorage.token}`\n  });\n}\n\nconst savedQuote = (cb) => {\n  socket.on('savedQuote', (quote) => cb(null, quote))\n}\n\nconst updatedQuote = (cb) => {\n  socket.on('updatedQuote', (quote) => cb(null, quote))\n}\n\nconst updateQuote = (editorState, id, editorHtml, referenceFrom) => {\n  socket.emit('editQuote', {editorState, editorHtml}, id, referenceFrom)\n}\n\nfunction cleanConnection() {\n  socket.removeAllListeners()\n}\n\nexport { savedQuote, updateQuote, updatedQuote, cleanConnection, restartSocket }","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLock, faEnvelope } from '@fortawesome/free-solid-svg-icons'\n\nimport AUTH_SERVICE from './../../services/auth'\nimport { restartSocket } from '../../services/editor';\n\nimport './login.css'\n\nexport default function Login (props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ userData, setUserData ] = useState({\n    email: '',\n    password: ''\n  })\n  const [networkError, setNetworkError] = useState({\n    className: '',\n    notification: undefined\n  })\n\n  useEffect(() => {\n    setIsVisible(true)\n    if (localStorage.user) props.history.push('/main')\n  }, [props.history])\n\n  const handleInput = (e) => {\n    const key = e.target.name;\n    const value = e.target.value\n\n    setUserData({...userData, [key]: value})\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      const { data: { user, token } } = await AUTH_SERVICE.login(userData)\n      localStorage.user = JSON.stringify(user);\n      localStorage.token = token;\n      restartSocket(token)\n      props.history.push('/main');\n    } catch (e) {\n      if (e.status === 401) setNetworkError({ networkError: { className: 'error-animation', notification: <div className=\"error-network\">Incorrect email or passwor</div> } })\n      setNetworkError({ networkError: { className: 'error-animation', notification: <div className=\"error-network\">Something went wrong on the server</div> } })\n    }\n  }\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"container container--login\">\n          <div className={`card card--login ${networkError.className}`}>\n            <h2>Log in</h2>\n            {networkError.notification}\n            <form onSubmit={onSubmit}>\n\n              <label htmlFor=\"email\">Email</label>\n              <div className=\"input\">\n                <FontAwesomeIcon className=\"icon\" icon={faEnvelope} />\n                <input type=\"text\" name=\"email\" id=\"email\" value={userData.email} onChange={handleInput} />\n              </div>\n              <label htmlFor=\"password\">Password</label>\n              <div className=\"input\">\n                <FontAwesomeIcon className=\"icon\" icon={faLock} />\n                <input type=\"password\" name=\"password\" id=\"password\" value={userData.password} onChange={handleInput} />\n              </div>\n              <input type=\"submit\" value=\"Login\" className=\"submit\" />\n              <div className=\"footer\">\n                <p>If you don't have an account yet, you can create one <Link to=\"/signup\">here</Link></p>\n              </div>\n            </form>\n          </div>\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n    \n  )\n}","import React, { useState, useEffect } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser, faEnvelope, faLock} from '@fortawesome/free-solid-svg-icons'\nimport validator from 'validator'\n\nimport AUTH_SERVICE from './../../services/auth'\nimport './signup.css'\n\nexport default function Signup (props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    name: ''\n  });\n  const [passwordError, setPasswordError] = useState({\n    className: '',\n    notification: undefined\n  })\n  const [emailError, setEmailError] = useState({\n    className: '',\n    notification: undefined\n  });\n\n  useEffect(() => {\n    if (localStorage.user) this.props.history.push('/profile');\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    if (userData.password !== userData.confirmPassword) {\n      setPasswordError({\n        className: 'danger',\n        notification: <span className=\"error-form\">Both passwords must be the same</span>\n      })\n    } else {\n      setPasswordError({\n        className: '',\n        notification: undefined\n      })\n    }\n\n    if (!validator.isEmail(userData.email)) {\n      setEmailError({\n        className: 'danger',\n        notification: <span className=\"error-form\">Please introduce a valid email</span>\n      })\n    } else {\n      setEmailError({\n        className: '',\n        notification: undefined\n      })\n    }\n  }, [userData])\n\n  const handleInput = (e) => {\n    const key = e.target.name;\n    const value = e.target.value\n    \n    setUserData({...userData, [key]: value});\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    \n    if(passwordError.notification || emailError.notification) return;\n\n    await AUTH_SERVICE.signup(userData)\n    setIsVisible(false)\n    setTimeout(() => props.history.push('/login'), 200)\n  }\n\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"container container--signup\">\n        <div className=\"card card--signup\">\n          <h2>Sign up</h2>\n          <form onSubmit={onSubmit}>\n            <label htmlFor=\"name\">Name</label>\n            <div className=\"input\">\n              <FontAwesomeIcon className=\"icon\" icon={faUser} />\n              <input type=\"text\" name=\"name\" id=\"name\" value={userData.name} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"email\">Email {emailError.notification}</label>\n            <div className={`input ${emailError.className}`}>\n              <FontAwesomeIcon className=\"icon\" icon={faEnvelope} />\n              <input type=\"text\" name=\"email\" id=\"email\" value={userData.email} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"password\">Password</label>\n            <div className=\"input\">\n              <FontAwesomeIcon className=\"icon\" icon={faLock} />\n              <input type=\"password\" name=\"password\" id=\"password\" value={userData.password} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"password\">Verify password {passwordError.notification}</label>\n            <div className={`input ${passwordError.className}`}>\n              <FontAwesomeIcon className=\"icon\" icon={faLock} />\n              <input type=\"password\" name=\"confirmPassword\" id=\"confirmPassword\" value={userData.confirmPassword} onChange={handleInput} />\n            </div>\n            <input type=\"submit\" className=\"submit\" value=\"Sign up\" />\n          </form>\n        </div>\n      </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './landing.css'\n\nexport default function Landing(props) {\n  useEffect(() => {\n    if(localStorage.user) return props.history.push('/main')\n  }, [props.history])\n\n  return (\n    <div className=\"container container--landing\">\n      <div className=\"slogan\">\n        <h1>Minerva</h1>\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, tempora optio aspernatur sapiente quae natus enim recusandae minima delectus ducimus! Aperiam, nisi animi tempora porro veniam facilis corrupti eaque harum!\n      </div>\n      <div className=\"identify\">\n        <Link to=\"/signup\" className=\"signup\">Signup</Link>\n        <Link to=\"/login\" className=\"login\">Login</Link>\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { \n  Editor as DraftEditor, \n  EditorState, \n  RichUtils, \n  convertToRaw,\n  convertFromRaw, \n  ContentState,\n} from 'draft-js'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBold, faItalic, faUnderline, faFont } from '@fortawesome/free-solid-svg-icons'\nimport draftToHtml from 'draftjs-to-html'\n\nimport 'react-html5-camera-photo/build/css/index.css';\nimport './editor.css'\n\nexport default class Editor extends Component {\n\n  state = {\n    editorState: EditorState.createEmpty(),\n    id: this.props.id,\n    textDocument: this.props.textDocument\n  }\n\n  componentDidMount = async () => {\n    this.props.handleSaved((err, textDocument) => {\n      this.props.handleId(textDocument._id)\n      this.setState({ id: textDocument._id })\n      })\n\n    this.props.handleGetDocument((quote) => {\n      const blocks = convertFromRaw(JSON.parse(quote.body))\n      this.setState({ editorState: EditorState.createWithContent(blocks) })\n    })\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if(this.props.ocrText && this.props.ocrText !== prevProps.ocrText ) {\n      this.setState({ editorState: EditorState.createWithContent(ContentState.createFromText(this.props.ocrText))})\n    }\n    this.props.handleDocument(this.state.id)\n  }\n\n  componentWillUnmount = () => {\n    this.props.handleDocument(this.state.textDocument)\n    this.props.handleUnmount()\n  }\n\n  editorOnChange = (editorState) => {\n    const rawContent = convertToRaw(editorState.getCurrentContent())\n    this.props.handleUpdate(rawContent, this.state.id, draftToHtml(rawContent))\n    this.setState({ editorState })\n  }\n\n  handleKeyCommand = (command, editorState) => {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.editorOnChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n  _onBoldClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'))\n  }\n\n  _onItalicClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'ITALIC'))\n  }\n\n  _onUnderlineClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'UNDERLINE'))\n  }\n\n\n  render() {\n    return (\n      <div className=\"min-editor\">\n        <div className=\"menu-styles\">\n          <button><FontAwesomeIcon icon={ faFont }/></button>\n          <div>\n            <button onClick={ this._onBoldClick }><FontAwesomeIcon icon={ faBold } /></button>\n            <button onClick={ this._onItalicClick }><FontAwesomeIcon icon={ faItalic } /></button>\n            <button onClick={ this._onUnderlineClick }><FontAwesomeIcon icon={ faUnderline } /></button>\n          </div>\n        </div>\n        <DraftEditor \n          editorState={ this.state.editorState } \n          onChange={ this.editorOnChange } \n          handleKeyCommand={ this.handleKeyCommand }\n        />\n      </div>\n    )\n  }\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/collections' : 'http://localhost:3000/api/collections';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst COLLECTIONS_SERVICE = {\n  createCollection: (collection) => SERVICE.post('/', collection),\n  getAllCollections: () => SERVICE.get('/'),\n  getOneCollection: (id) => SERVICE.get(`/${id}`),\n  updateCollection: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteCollection: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default COLLECTIONS_SERVICE;","import React, { Component, createContext } from 'react'\nimport COLLECTIONS_SERVICE from './../services/collections'\n\nexport const CollectionsContext = createContext()\n\nexport default class CollectionsProvider extends Component {\n\n  state = {\n    collections: [],\n    currentCollection: {\n      name: '',\n      contributors: [],\n      pending: [],\n      quotes: [],\n      userFrom: ''\n    },\n    filtersCollections: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllCollections()\n  }\n\n  cleanCurrentCollection = () => {\n    this.setState({\n      currentCollection: {\n        name: '',\n        contributors: [],\n        pending: [],\n        quotes: [],\n        userFrom: ''\n      }\n    })\n  }\n\n  getAllCollections = async () => {\n    const { data: collections } = await COLLECTIONS_SERVICE.getAllCollections()\n    this.setState({ collections })\n  }\n\n  getOneCollection = async (id) => {\n    const { data: currentCollection } = await COLLECTIONS_SERVICE.getOneCollection(id)\n    this.setState({ currentCollection })\n  }\n\n  createOneCollection = async (data) => {\n    const { data: collection } = await COLLECTIONS_SERVICE.createCollection(data);\n    this.setState(prevState => {\n      const { collections } = prevState;\n\n      return { collections: [...collections, collection] }\n    })\n  }\n\n  updateOneCollection = async (id, data) => {\n    console.log(data)\n    const { data: newCollection } = await COLLECTIONS_SERVICE.updateCollection(id, data);\n    this.setState(prevState => {\n      const { collections: oldCollections } = prevState;\n\n      const collections = oldCollections.map((collection) => {\n        if (collection._id === newCollection._id) return newCollection\n        return collection\n      })\n\n      return { collections }\n    })\n  }\n\n  deleteOneQuoteFromCollection = (quoteToRemove) => {\n    this.setState((prevState) => {\n      const { currentCollection } = prevState\n      const quotes = currentCollection.quotes.filter((quote) => quote._id !== quoteToRemove._id);\n\n      return { currentCollection: {...currentCollection, quotes } }\n    })\n  }\n\n  deleteOneCollection = async (id) => {\n    const { data: collectionToRemove } = await COLLECTIONS_SERVICE.deleteCollection(id);\n    this.setState((prevState) => {\n      const { collections: oldCollections } = prevState\n      const collections = oldCollections.filter((collection) => collection._id !== collectionToRemove._id);\n\n      return { collections }\n    })\n  }\n\n  render() {\n    const { collections, currentCollection, filtersCollections } = this.state\n    const {\n      getAllCollections,\n      getOneCollection,\n      createOneCollection,\n      deleteOneCollection,\n      updateOneCollection,\n      cleanCurrentCollection,\n      deleteOneQuoteFromCollection\n    } = this\n    return (\n      <CollectionsContext.Provider\n        value={{\n          collections,\n          currentCollection,\n          filtersCollections,\n          getAllCollections,\n          getOneCollection,\n          createOneCollection,\n          updateOneCollection,\n          deleteOneCollection,\n          cleanCurrentCollection,\n          deleteOneQuoteFromCollection\n        }}\n      >\n        {this.props.children}\n      </CollectionsContext.Provider>\n    )\n  }\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/quotes' : 'http://localhost:3000/api/quotes';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst QUOTES_SERVICE = {\n  createQuote: (quote) => SERVICE.post('/', quote),\n  getAllQuotes: () => SERVICE.get('/'),\n  getOneQuote: (id) => SERVICE.get(`/${id}`),\n  updateQuote: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteQuote: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default QUOTES_SERVICE;","import React, { createContext, Component } from 'react'\nimport QUOTES_SERVICE from '../services/quotes'\n\nexport const QuotesContext = createContext()\n\nexport default class QuotesProvider extends Component {\n  state = {\n    quotes: [],\n    currentQuote: {},\n    filters: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllQuotes()\n  }\n\n  getAllQuotes = async () => {\n    const { data: quotes} = await QUOTES_SERVICE.getAllQuotes()\n    this.setState({ quotes })\n  }\n\n  getOneQuote = async (id) => {\n    const { data: currentQuote } = await QUOTES_SERVICE.getOneQuote(id)\n    this.setState({ currentQuote })\n  }\n\n  createOneQuote = async (data) => {\n    const { data: quote } = await QUOTES_SERVICE.createQuote(data);\n    this.setState(prevState => {\n      const { quotes } = prevState;\n      \n      return { quotes: [...quotes, quote]}\n    })\n  }\n\n  updateOneQuote = async (id, data) => {\n    await QUOTES_SERVICE.updateQuote(id, data);\n  }\n  \n  addQuote = (quote) => {\n    this.setState(prevState => {\n      const { quotes: oldQuotes } = prevState;\n      \n      if (!JSON.stringify(oldQuotes).includes(quote._id)) return { quotes: [...oldQuotes, quote] }\n      const quotes = oldQuotes.map((currentQuote) => {\n        if(currentQuote._id === quote._id) {\n          return quote\n        }\n        return currentQuote\n      })\n      return { quotes }\n    })\n  }\n\n  deleteOneQuote = async (id) => {\n    const { data: quoteToRemove } = await QUOTES_SERVICE.deleteQuote(id);\n    this.setState((prevState) => {\n      const { quotes: oldQuotes } = prevState\n      const quotes = oldQuotes.filter((quote) => quote._id !== quoteToRemove._id );\n\n      return { quotes }\n    })\n  }\n\n  render() {\n    const { quotes, currentQuote, filter } = this.state\n    const { getAllQuotes, getOneQuote, createOneQuote, deleteOneQuote, addQuote, updateOneQuote } = this\n    return (\n      <QuotesContext.Provider value={ {quotes, currentQuote, filter, getAllQuotes, getOneQuote, createOneQuote, deleteOneQuote, addQuote, updateOneQuote} }>\n        {this.props.children}\n      </QuotesContext.Provider>\n    )\n  }\n}","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/references' : 'http://localhost:3000/api/references';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst REFERENCE_SERVICE = {\n  createReference: (reference) => SERVICE.post('/', reference),\n  getAllReferences: () => SERVICE.get('/'),\n  getOneReference: (id) => SERVICE.get(`/${id}`),\n  updateReference: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteReference: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default REFERENCE_SERVICE;","import React, { Component, createContext } from 'react'\nimport REFERENCES_SERVICE from './../services/references'\n\nexport const ReferencesContext = createContext()\n\nexport default class ReferencesProvider extends Component {\n  state = {\n    references: [],\n    currentReference: {\n      type: 'BOOK',\n      title: '',\n      firstName: '',\n      lastName: '',\n      volume: 1,\n      edition: '',\n      place: '',\n      publisher: '',\n      date: '',\n      numberOfPages: '',\n      language: '',\n      isbn: '',\n      url: '',\n      doi: '',\n      accessed: '',\n      archive: ''\n    },\n    filtersReferences: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllReferences()\n  }\n\n  cleanCurrentReference = () => {\n    this.setState({\n      currentReference: {\n        type: 'BOOK',\n        title: '',\n        firstName: '',\n        lastName: '',\n        volume: 1,\n        edition: '',\n        place: '',\n        publisher: '',\n        date: '',\n        numberOfPages: '',\n        language: '',\n        isbn: '',\n        url: '',\n        doi: '',\n        accessed: '',\n        archive: ''\n      }})\n  }\n\n  getAllReferences = async () => {\n    const { data: references } = await REFERENCES_SERVICE.getAllReferences()\n    this.setState({ references })\n  }\n\n  getOneReference = async (id) => {\n    const { data: currentReference } = await REFERENCES_SERVICE.getOneReference(id)\n    this.setState({ currentReference })\n  }\n\n  createOneReference = async (data) => {\n    const { data: reference } = await REFERENCES_SERVICE.createReference(data);\n    this.setState(prevState => {\n      const { references } = prevState;\n\n      return { references: [...references, reference] }\n    })\n  }\n\n  updateOneReference = async (id, data) => {\n    const { data: newReference } = await REFERENCES_SERVICE.updateReference(id, data);\n    this.setState(prevState => {\n      const { references: oldReferences } = prevState;\n\n      const references = oldReferences.map((reference) => {\n        if(reference._id === newReference._id ) return newReference\n        return reference\n      }) \n\n      return { references }\n    })\n  }\n\n  deleteOneReference = async (id) => {\n    const { data: referenceToRemove } = await REFERENCES_SERVICE.deleteReference(id);\n    this.setState((prevState) => {\n      const { references: oldReferences } = prevState\n      const references = oldReferences.filter((reference) => reference._id !== referenceToRemove._id);\n\n      return { references }\n    })\n  }\n\n  deleteOneQuoteFromReference = (quoteToRemove) => {\n    this.setState((prevState) => {\n      const { currentReference } = prevState\n      const quotes = currentReference.quotes.filter((quote) => quote._id !== quoteToRemove._id);\n\n      return { currentReference: { ...currentReference, quotes } }\n    })\n  }\n\n\n\n  render() {\n    const { references, currentReference, filtersReferences } = this.state\n    const { \n      getAllReferences, \n      getOneReference, \n      createOneReference, \n      deleteOneReference, \n      updateOneReference, \n      cleanCurrentReference,\n      deleteOneQuoteFromReference\n     } = this\n    return (\n      <ReferencesContext.Provider \n        value={{ \n          references, \n          currentReference, \n          filtersReferences,\n          getAllReferences,\n          getOneReference,\n          createOneReference,\n          updateOneReference,\n          deleteOneReference,\n          cleanCurrentReference,\n          deleteOneQuoteFromReference\n        }}\n      >\n        {this.props.children}\n      </ReferencesContext.Provider>\n    )\n  }\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { savedQuote, updateQuote, updatedQuote, cleanConnection } from '../../services/editor'\nimport Camera from 'react-html5-camera-photo'\nimport Tesseract from 'tesseract.js'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faImage, faCamera, faBook } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group' \n\nimport Editor from './Editor'\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport { QuotesContext } from '../../context/QuotesContext'\nimport { ReferencesContext } from '../../context/ReferencesContext'\nimport QUOTES_SERVICE from '../../services/quotes'\n\nimport './quote.css'\n\nexport default function Quote (props){\n  const { addQuote, updateOneQuote } = useContext(QuotesContext)\n  const { collections: allCollections, updateOneCollection, getAllCollections  } = useContext(CollectionsContext)\n  const { references, getOneReference } = useContext(ReferencesContext)\n\n  const [ id, setId ] = useState(props.match.params.id);\n  const [ ocrText, setOcrText ] = useState(undefined);\n  const [ isLoading, setIsLoading ] = useState(false);\n  const [ isCameraActive, setIsCameraActive ] = useState(false);\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ isFormatVisible, setIsFormatVisible ] = useState(false)\n  const [ quote, setQuote ] = useState(undefined)\n  const [ collections, setCollections] = useState(allCollections)\n\n  useEffect(() => {\n    setIsVisible(true)\n\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => {\n    if(quote) {\n      setCollections(allCollections.filter(collection => !collection.quotes.includes(quote._id)))\n      getAllCollections()\n    }\n\n    return () => {\n      if(quote) addQuote(quote)\n    }\n  }, [quote, allCollections, addQuote, getAllCollections])\n\n  useEffect(() => {\n    if(quote) getOneReference(quote._id)\n  }, [quote, getOneReference])\n\n  const handleGetDocument = async (cb) => {\n    if(props.match.params.id) {\n      const { data: quote } = await QUOTES_SERVICE.getOneQuote(id)\n      setQuote(quote)\n      cb(quote)\n    }\n  }\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const scanText = async (image) => {\n    setIsLoading(true)\n\n    const result = await Tesseract\n      .recognize(image, 'eng')\n      .progress((p) => {\n      })\n    Tesseract.terminate();\n\n    setOcrText(result.text)\n    setIsLoading(false)\n  }\n\n  const handlePhoto = (dataUri) => {\n    scanText(dataUri)\n    setIsCameraActive(false)\n  }\n\n  const handleAttachment = async (e) => {\n    scanText(e.target.files[0])\n  }\n\n  const handleQuote = (quote) => {\n    if (quote) {\n      updatedQuote((err, quote) => {\n        setQuote(quote)\n      })\n    }\n  }\n\n  const setCollection = async () => {\n    const id = document.querySelector('#collection').value;\n    const collection = collections.find((currentCollection) => currentCollection._id === id)\n\n    setIsLoading(true);\n\n    collection.quotes.push(quote._id)\n    await updateOneCollection(id, collection)\n\n    setIsLoading(false)\n  }\n\n  const setReference = async () => {\n    const referenceFrom = document.querySelector('#reference').value;\n    \n    setIsLoading(true);\n    await updateOneQuote(quote._id, {referenceFrom})\n    setIsLoading(false)\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        { isVisible ? \n          <div className=\"quote-container\">\n            <div className=\"quote\">\n              <div className=\"quote-editor\">\n                <div>\n                  <div className=\"quote-menu\">\n                    <div className=\"upload-wrapper\">\n                      <button><FontAwesomeIcon icon={faImage} /></button>\n                      <input type=\"file\" onChange={handleAttachment} />\n                    </div>\n                    <button onClick={() => setIsCameraActive(true)}><FontAwesomeIcon icon={faCamera} /></button>\n                    <button onClick={() => setIsFormatVisible(!isFormatVisible)}><FontAwesomeIcon icon={faBook} /></button>\n                  </div>\n                </div>\n                <Editor\n                  handleSaved={savedQuote}\n                  handleUpdate={updateQuote}\n                  isQuote={true}\n                  id={id}\n                  handleId={setId}\n                  handleDocument={handleQuote}\n                  ocrText={ocrText}\n                  textDocument={quote}\n                  handleGetDocument={handleGetDocument}\n                  handleUnmount={cleanConnection}\n                />\n              </div>\n              { quote ?\n                <div className=\"editor-meta\">\n                  <div className=\"add-to-collection\">\n                    <select name=\"collection\" id=\"collection\">\n                      {collections.map(({ _id, name }) => (\n                        <option key={_id} value={_id}>{name}</option>\n                      ))}\n                    </select>\n                    <button onClick={setCollection}>Add</button>\n                  </div>\n                  <div className=\"add-to-reference\">\n                    <select name=\"refrence\" id=\"reference\" >\n                      {references.map(({_id, authors, title}) => (\n                        <option key={_id} value={_id}>{`${authors[0].lastName}, ${authors[0].firstName.charAt(0)}. ${title}`}</option>\n                      ))}\n                    </select>\n                    <button onClick={setReference}>Set</button>\n                  </div>\n                </div>\n              : undefined}\n              \n                { isLoading ? \n                <div className=\"loading-sect\">\n                  <div className=\"spin-circle\"></div>\n                </div>\n                : undefined }\n              \n            </div>\n            {isCameraActive ? <Camera className=\"camera-quote\" onTakePhoto={handlePhoto} isFullscreen={true} isImageMirror={false} /> : undefined }\n          </div> \n        : undefined }\n      </CSSTransitionGroup>\n    </div>\n  )\n}","import React, { useState, useEffect, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { ReferencesContext } from '../../context/ReferencesContext'\n\nimport './reference.css'\n\n\n\nexport default function Reference(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ canDelete, setCanDelete ] = useState(false)\n\n  const [ referenceData, setReferenceData ] = useState({\n    type: 'BOOK',\n    title: '',\n    firstName: '',\n    lastName: '',\n    volume: 1,\n    edition: '',\n    place: '',\n    publisher: '',\n    date: '',\n    numberOfPages: 0,\n    language: '',\n    isbn: '',\n    url: '',\n    doi: '',\n    accessed: '',\n    archive: ''\n  })\n\n  const { \n    currentReference, \n    getOneReference, \n    createOneReference, \n    updateOneReference, \n    cleanCurrentReference,\n    deleteOneReference\n  } = useContext(ReferencesContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => { \n    if ((!referenceData._id && props.match.params.id) || referenceData._id !== props.match.params.id) {\n      getOneReference(props.match.params.id)\n      setCanDelete(true)\n\n      for(const key in currentReference) {\n        if (currentReference[key] === null) currentReference[key] = ''\n      }\n\n      setReferenceData({ \n        ...currentReference,\n        lastName: currentReference.authors ? currentReference.authors[0].lastName : '', \n        firstName: currentReference.authors ? currentReference.authors[0].firstName : '',\n      }) \n    }\n  }, [currentReference, getOneReference, props.match.params.id, referenceData._id])\n\n  const handleInput = (e) => {\n    setReferenceData({ ...referenceData, [e.target.name]: e.target.value });\n  }\n\n  const handleDelete = async () => {\n    try {\n      await deleteOneReference(referenceData._id)\n      props.history.goBack()\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    if(referenceData._id){\n      updateOneReference(referenceData._id, {\n        ...referenceData, authors: [{\n          firstName: referenceData.firstName,\n          lastName: referenceData.lastName\n        }] \n      })\n    } else {\n      createOneReference({\n        ...referenceData, authors: [{\n          firstName: referenceData.firstName,\n          lastName: referenceData.lastName\n        }] \n      })\n    }\n\n    cleanCurrentReference()\n    setIsVisible(false)\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={() => {\n        setIsVisible(false)\n        setTimeout(() => {\n          props.history.goBack()\n        }, 250)\n      }}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ? \n          <div className=\"reference-container\">\n            <form className=\"reference\" onSubmit={onSubmit}>\n\n              {canDelete ? \n                <div className=\"delete-reference\"><button onClick={handleDelete}>Delete</button></div>\n               : undefined}\n              <h2>{props.match.params.id ? 'Edit reference' : 'Add reference'}</h2>\n              <select name=\"type\" id=\"type\">\n                <option value=\"BOOK\">Book</option>\n                <option value=\"BOOK_SECTION\">Book Section</option>\n                <option value=\"ENCYCLOPEDIA_ARTICLE\">Encyclopedia article</option>\n                <option value=\"JOURNAL_ARTICLE\">Journal article</option>\n                <option value=\"MAGAZINE_ARTICLE\">Magazine article</option>\n                <option value=\"NEWSPAPER_ARTICLE\">Newspaper article</option>\n                <option value=\"THESIS\">Thesis</option>\n                <option value=\"WEB_PAGE\">Web page</option>\n              </select>\n              <div className=\"fields\">\n                <label htmlFor=\"Title\">Title</label>\n                <input type=\"text\" name=\"title\" value={referenceData.title} onChange={handleInput}/>\n                <label htmlFor=\"author.firstName\">First name</label>\n                <input type=\"text\" name=\"firstName\" id=\"firstName\" value={referenceData.firstName} onChange={handleInput} />\n                <label htmlFor=\"author.lastName\">Last Name</label>\n                <input type=\"text\" name=\"lastName\" id=\"lastName\" value={referenceData.lastName} onChange={handleInput} />\n                <label htmlFor=\"publiser\">Publisher</label>\n                <input type=\"text\" name=\"publisher\" id=\"publiser\" value={referenceData.publisher} onChange={handleInput}/>\n                <label htmlFor=\"place\">Place</label>\n                <input type=\"text\" name=\"place\" id=\"place\" value={referenceData.place} onChange={handleInput}/>\n                <label htmlFor=\"date\">Date</label>\n                <input type=\"date\" name=\"date\" id=\"date\" value={referenceData.date} onChange={handleInput}/>\n                <label htmlFor=\"numberOfPages\">Number of pages</label>\n                <input type=\"number\" name=\"numberOfPages\" id=\"numberOfPages\" value={referenceData.numberOfPages} onChange={handleInput}/>\n                <label htmlFor=\"volume\">Volume</label>\n                <input type=\"number\" name=\"volume\" id=\"volume\" value={referenceData.volume} onChange={handleInput}/>\n                <label htmlFor=\"url\">Website url</label>\n                <input type=\"url\" name=\"url\" id=\"url\" value={referenceData.url} onChange={handleInput}/>\n                <label htmlFor=\"accessed\">Date of access</label>\n                <input type=\"date\" name=\"accessed\" id=\"accessed\" value={referenceData.accessed} onChange={handleInput}/>\n                <label htmlFor=\"edition\">Edition</label>\n                <input type=\"text\" name=\"edition\" id=\"edition\" value={referenceData.edition} onChange={handleInput}/>\n                <label htmlFor=\"archive\">Archive</label>\n                <input type=\"text\" name=\"archive\" id=\"archive\" value={referenceData.archive} onChange={handleInput}/>\n                <label htmlFor=\"language\">Language</label>\n                <input type=\"text\" name=\"language\" id=\"language\" value={referenceData.language} onChange={handleInput}/>\n                <label htmlFor=\"isbn\">ISBN</label>\n                <input type=\"text\" name=\"isbn\" id=\"isbn\" value={referenceData.isbn} onChange={handleInput}/>\n                <label htmlFor=\"doi\">DOI</label>\n                <input type=\"text\" name=\"doi\" id=\"doi\" value={referenceData.doi} onChange={handleInput}/>\n              </div> \n              <input type=\"submit\" value=\"Save reference\" />\n            </form>\n          </div> \n        : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\n\nimport AUTH_SERVICE from './../../services/auth'\n\nimport './navbar.css'\n\nexport default function Navbar(props) {\n  const [isUsernavbarVisible, setIsUsernabarVisible] = useState(false)\n  const [ user, setUser ] = useState({})\n\n  useEffect(() => {\n    if(localStorage.user) setUser(JSON.parse(localStorage.user))\n  }, [])\n\n  const logout = async () => {\n    await AUTH_SERVICE.logout()\n    localStorage.clear();\n    props.history.push('/')\n  }\n\n  return (\n    <>\n      <nav className=\"navbar\">\n        <div className=\"navbar-left\">\n          <FontAwesomeIcon icon={faBars} />\n          <div className=\"minerva\"><Link to=\"/main\">Minerva</Link></div>\n        </div>\n        <div className=\"navbar-center\">\n        </div>\n        <div className=\"navbar-right\">\n          <div className=\"avatar\" onClick={() => setIsUsernabarVisible(!isUsernavbarVisible)}>\n            <img src={user.avatar} alt=\"user\" />\n          </div>\n        </div>\n      </nav>\n      <CSSTransitionGroup\n        transitionName=\"navbars\"\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n      >\n        { isUsernavbarVisible ? \n          <nav className=\"user-sidebar\">\n            <h3>{user.name}</h3>\n            <div className=\"session\">\n              <button onClick={logout}>Logout</button>\n            </div>\n          </nav>\n        : undefined }\n      </CSSTransitionGroup>\n      \n    </>\n    \n  )\n}\n","import React, { useContext } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { ReferencesContext } from './../../context/ReferencesContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faBook } from '@fortawesome/free-solid-svg-icons'\n\nimport './references.css'\n\nexport default function References() {\n  const { references } = useContext(ReferencesContext);\n  \n  return (\n    <div className=\"references\">\n      <h3><FontAwesomeIcon icon={faBook} /> References</h3>\n      {references.map((({authors, title, _id}) => (\n        <div key={_id} className=\"reference-item\">\n          <div><NavLink to={`/main/references/${_id}`} activeClassName=\"current-reference\">{`${authors[0].lastName}, ${authors[0].firstName.charAt(0)}. ${title}`}</NavLink></div>\n          <div>\n            <Link to={`/main/reference/${_id}/edit`}><FontAwesomeIcon icon={faEdit} /></Link>\n          </div>\n        </div>\n      )))}\n    </div>\n  )\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/styles' : 'http://localhost:3000/api/styles';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst STYLE_SERVICE = {\n  createStyle: (style) => SERVICE.post('/', style),\n  getAllStyles: () => SERVICE.get('/'),\n  getOneStyle: (id) => SERVICE.get(`/${id}`),\n  updateStyle: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteStyle: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default STYLE_SERVICE;","import React, { Component, createContext } from 'react'\nimport STYLES_SERVICE from '../services/styles'\n\nexport const StylesContext = createContext()\n\nexport default class StylesProvider extends Component {\n  state ={\n    styles: [],\n    currentStyle: {},\n    filtersStyles: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllStyles()\n  }\n\n  getAllStyles = async () => {\n    const { data: styles } = await STYLES_SERVICE.getAllStyles()\n    this.setState({ styles })\n  }\n\n  getOneStyle = async (id) => {\n    const currentStyle = this.state.styles.find((currentStyle) => currentStyle._id === id )\n    this.setState({ currentStyle })\n  }\n\n  createOneStyle = async (data) => {\n    const { data: style } = await STYLES_SERVICE.createStyle(data);\n    this.setState(prevState => {\n      const { styles } = prevState;\n\n      return { styles: [...styles, style] }\n    })\n  }\n\n  deleteOneStyle = async (id) => {\n    const { data: styleToRemove } = await STYLES_SERVICE.deleteStyle(id);\n    this.setState((prevState) => {\n      const { styles: oldStyles } = prevState\n      const styles = oldStyles.filter((style) => style._id !== styleToRemove._id);\n\n      return { styles }\n    })\n  }\n\n  render() {\n    const { styles, currentStyle, filtersStyles } = this.state\n    const {\n      getAllStyles,\n      getOneStyle,\n      createOneStyle,\n      deleteOneStyle,\n      updateOneStyle,\n      cleanCurrentStyle\n    } = this\n\n    return (\n      <StylesContext.Provider\n        value={{\n          styles,\n          currentStyle,\n          filtersStyles,\n          getAllStyles,\n          getOneStyle,\n          createOneStyle,\n          updateOneStyle,\n          deleteOneStyle,\n          cleanCurrentStyle\n        }}\n      >\n        {this.props.children}\n      </StylesContext.Provider>\n    )\n  }\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport { StylesContext } from '../../context/StylesContext'\n\nimport './collection.css'\n\nexport default function Collection(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ collectionData, setCollectionData ] = useState({\n    name: '',\n    defaultStyle: ''\n  })\n\n  const {\n    createOneCollection,\n    currentCollection,\n    getOneCollection,\n    updateOneCollection,\n    cleanCurrentCollection\n  } = useContext(CollectionsContext)\n\n  const { styles } = useContext(StylesContext);\n\n  useEffect(() => {\n    setIsVisible(true)\n\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => {\n    if ((!collectionData._id && props.match.params.id) || collectionData._id !== props.match.params.id) {\n      \n      getOneCollection(props.match.params.id)\n      for (const key in currentCollection) {\n        if (currentCollection[key] === null) currentCollection[key] = ''\n      }\n\n      setCollectionData(currentCollection)\n    }\n  }, [currentCollection, collectionData._id, getOneCollection, props.match.params.id])\n\n  const handleInput = (e) => {\n    setCollectionData({ ...collectionData, [e.target.name]: e.target.value });\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    if (collectionData._id) {\n      updateOneCollection(collectionData._id, collectionData)\n    } else {\n      createOneCollection(collectionData)\n    }\n\n    cleanCurrentCollection()\n    setIsVisible(false)\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={() => {\n        setIsVisible(false)\n        setTimeout(() => {\n          props.history.goBack()\n        }, 250)\n      }}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ?\n          <div className=\"collection-container\">\n            <form className=\"collection\" onSubmit={onSubmit}>\n              <h2>{props.match.params.id ? 'Edit collection' : 'Add collection'}</h2>\n              <label htmlFor=\"name\">Name of the collection</label>\n              <input type=\"text\" name=\"name\" id=\"name\" onChange={handleInput} value={collectionData.name}/>\n              <label htmlFor=\"defaulStyle\">Style</label>\n              <select name=\"defaultStyle\" id=\"defaultStyle\" onChange={handleInput}>\n                {styles.map(({ _id, name }) => (\n                  <option key={_id} value={_id}>{name}</option>\n                ))}\n              </select>\n              {/* <label htmlFor=\"quotes\">Add quotes</label>\n              <input type=\"text\" name=\"quotes\" id=\"quotes\" />\n              <label htmlFor=\"contributors\">Add contributors</label>\n              <input type=\"text\" name=\"contributors\" id=\"contributors\" /> */}\n              <input type=\"submit\" value=\"Save collection\"/>\n            </form>\n          </div>\n          : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit,  faFolder  } from '@fortawesome/free-solid-svg-icons'\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './collections.css'\n\nexport default function Collections() {\n  const { collections } = useContext(CollectionsContext);\n  return (\n    <div className=\"collections\">\n      <h3><FontAwesomeIcon icon={ faFolder } /> Collections</h3>\n      {collections.map((({ name, _id }) => (\n        <div key={_id} className=\"collection-item\">\n          <div><NavLink to={`/main/collections/${_id}`} activeClassName=\"current-collection\">{name}</NavLink></div>\n          <div>\n            <Link to={`/main/collection/${_id}/edit`}><FontAwesomeIcon icon={faEdit} /></Link>\n          </div>\n        </div>\n      )))}\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEllipsisV, faTrash, faPenSquare } from '@fortawesome/free-solid-svg-icons'\nimport { QuotesContext } from '../../context/QuotesContext'\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport { ReferencesContext } from '../../context/ReferencesContext'\n\nexport default function QuoteCard({ quote }) {\n  const [isOptionsVisible, setIsOptionsVisible] = useState(false);\n  const { deleteOneQuote } = useContext(QuotesContext)\n  const { currentCollection, deleteOneQuoteFromCollection } = useContext(CollectionsContext)\n  const { currentReference, deleteOneQuoteFromReference } = useContext(ReferencesContext)\n\n  const handleDelete = () => {\n    deleteOneQuote(quote._id)\n    if (currentCollection._id) deleteOneQuoteFromCollection(quote)\n    if (currentReference._id) deleteOneQuoteFromReference(quote)\n  }\n\n  return (\n    <div className=\"quote-card\">\n      <Link to={`/main/quote/${quote._id}`} className=\"content\">\n        <span dangerouslySetInnerHTML={{ __html: quote.html }}></span>\n      </Link>\n      <div className=\"meta\">\n        <div>\n          <h3>Title</h3>\n        </div>\n        <div className={`options ${ isOptionsVisible ? 'options-active' : ''}`}>\n          <button className=\"options-button\" onClick={() => setIsOptionsVisible(!isOptionsVisible)}><FontAwesomeIcon icon={faEllipsisV} /></button>\n          <CSSTransitionGroup\n            transitionName=\"options\"\n            transitionEnterTimeout={250}\n            transitionLeaveTimeout={200}\n          >\n            {isOptionsVisible ?\n              <div className=\"options-actions\">\n                <button onClick={handleDelete} className=\"delete\"><FontAwesomeIcon icon={faTrash} /> Delete</button>\n                <button className=\"edit\"><FontAwesomeIcon icon={faPenSquare} /> Change reference</button>\n              </div>\n              : undefined}\n          </CSSTransitionGroup>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { QuotesContext }  from '../../context/QuotesContext'\n\n\nimport './quotes.css'\nimport QuoteCard from './QuoteCard'\n\nexport default function Quotes(props) {\n  const { quotes: contextQuotes }  = useContext(QuotesContext)\n  const quotes = props.quotes || contextQuotes\n\n  return (\n    <div className=\"quotes-container\">\n      {quotes.map((quote) => (\n        <div key={quote._id}>\n          <QuoteCard quote={quote} />\n        </div>\n      ))}\n    </div>\n  )\n}\n","import React, { useState, useContext, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFolder, faEllipsisV, faUserFriends, faTrash, faEdit } from '@fortawesome/free-solid-svg-icons'\n\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport Quotes from './Quotes';\n\nimport './collectionOverview.css'\n\nexport default function CollectionOverview(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ isOptionsActive, setIsOptionsActive ] = useState(false)\n  const { currentCollection, getOneCollection, cleanCurrentCollection } = useContext(CollectionsContext);\n  \n  useEffect(() => {\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    getOneCollection(props.match.params.id)\n    setIsVisible(false)\n    setTimeout(() => {\n      setIsVisible(true)\n    }, 280)    \n\n    return () => {\n      cleanCurrentCollection()\n    }\n  }, [props.match.params.id, getOneCollection, cleanCurrentCollection])\n  \n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"collection-overview\">\n          <nav className=\"collection-nav\">\n            <div className=\"collection-name\"><h2><FontAwesomeIcon icon={faFolder} /> {currentCollection.name}</h2></div>\n            <div className=\"collection-actions\">\n              <Link to={`/main/collections/${currentCollection._id}/members`} ><button><FontAwesomeIcon icon={faUserFriends} /></button></Link>\n              <button onClick={() => setIsOptionsActive(!isOptionsActive)}><FontAwesomeIcon icon={faEllipsisV} /></button>\n              <CSSTransitionGroup\n                transitionName=\"menu-popup\"\n                transitionAppearTimeout={600}\n                transitionEnterTimeout={250}\n                transitionLeaveTimeout={200}\n                component=\"div\"\n              >\n                {isOptionsActive ?\n                  <div className=\"collection-options\">\n                    <Link to={`/main/collection/${currentCollection._id}/edit`}><FontAwesomeIcon icon={faEdit} /> Edit</Link>\n                    <Link to={`/main/collections/${currentCollection._id}/delete`}><FontAwesomeIcon icon={faTrash} /> Delete</Link>\n                  </div>\n                  : undefined}\n              </CSSTransitionGroup>\n            </div>\n          </nav>\n          <Quotes quotes={currentCollection.quotes} />\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport Quotes from './Quotes'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faClock } from '@fortawesome/free-solid-svg-icons'\n\nimport './defaultView.css'\n\nexport default function DefaultView() {\n  const [ isVisible, setIsVisible ] = useState(false);\n  \n  useEffect(() => {\n    setIsVisible(true);\n\n    return () => {\n      setIsVisible(false)\n    }\n  }, [])\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"default-view\">\n          <h2><FontAwesomeIcon icon={ faClock } /> Recent</h2>\n          <Quotes />\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}\n","import React, { useState, useContext, useEffect } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBook } from '@fortawesome/free-solid-svg-icons'\n\nimport { ReferencesContext } from './../../context/ReferencesContext'\nimport Quotes from './Quotes';\n\nexport default function ReferenceOverview(props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const { id } = props.match.params\n  const { currentReference, getOneReference } = useContext(ReferencesContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    getOneReference(id)\n    setIsVisible(false)\n    setTimeout(() => {\n      setIsVisible(true)\n    }, 280)\n  }, [id, getOneReference])\n\n  return (\n    <div>\n      <CSSTransitionGroup\n        transitionName=\"collection-overview\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ?\n          <div className=\"collection-overview\">\n            <h2><FontAwesomeIcon icon={faBook} /> \n              {\n                ` ${currentReference.authors ? `${currentReference.authors[0].lastName}, ` : ''} \n                ${currentReference.authors ? `${currentReference.authors[0].firstName.charAt(0)}.` : ''} \n                ${currentReference.title}`\n              }\n            </h2>\n            <Quotes quotes={currentReference.quotes}/>\n          </div>\n          : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './deleteCollection.css'\n\nexport default function DeleteCollection(props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [name, setName] = useState('')\n  const { currentCollection, deleteOneCollection } = useContext(CollectionsContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n    console.log('mounting')\n  }, [])\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const deleteCollection = () => {\n    deleteOneCollection(currentCollection._id);\n    props.history.push('/main')\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n        <CSSTransitionGroup\n          transitionName=\"quote\"\n          transitionAppearTimeout={600}\n          transitionEnterTimeout={250}\n          transitionLeaveTimeout={200}\n          component=\"div\"\n        >\n          {isVisible ?\n            <div className=\"delete-container\">\n              <div className=\"delete-card\">\n                <div className=\"delete-close\"><button onClick={handleClose}><FontAwesomeIcon icon={faTimesCircle} /></button></div>\n                <p>This action <b>cannot</b> be undone. This will permanently remove <b>{currentCollection.name}</b> from your collections.</p>\n                <p>Please type in the name of the collection to confirm</p>\n                <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n                <button id=\"delete\" disabled={name !== currentCollection.name} onClick={deleteCollection} >Delete collection</button>\n              </div>\n            </div>\n            : undefined}\n        </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useContext} from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserFriends, faUserPlus } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './members.css'\n\nexport default function Members(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ email, setEmail ] = useState('')\n  const [ result, setResult ] = useState(undefined)\n\n  const { currentCollection, updateOneCollection } = useContext(CollectionsContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n  }, [currentCollection])\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const handleAddUser = async () => {\n    if(!email) return\n    try {\n      await updateOneCollection(currentCollection._id, { email })\n      setResult(<div className=\"members-result success\">Collection shared with {email}</div>)\n    } catch (e) {\n      console.log(e.status)\n      setResult(<div className=\"members-result error\">User not found</div>)\n    }\n\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        { isVisible ? \n          <div className=\"members-container\">\n            <div className=\"members-card\">\n              <div className=\"members-header\">\n                <FontAwesomeIcon icon={faUserFriends} />\n                <h2>Add members</h2>\n              </div>\n              <div className=\"add-members\">\n                <input type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)}/>\n                <button onClick={handleAddUser}><FontAwesomeIcon icon={faUserPlus} /></button>\n              </div>\n              {result}\n              <div className=\"members-list\">\n                <div>\n                  <h3>Creator</h3>\n                  <div className=\"collection-creator\">\n                    <div><img src={currentCollection.userFrom.avatar} alt={currentCollection.userFrom.avater}/></div>\n                    <p>{currentCollection.userFrom.name}</p>\n                  </div>\n                </div>\n                <h4>Current members</h4>\n                {}\n                {currentCollection.contributors.map((contributor) => (\n                  <div>\n                    <div><img src={contributor.avatar} alt={contributor.name} /></div> \n                    {contributor.name}\n                  </div>\n                ))}\n              </div>\n              <div className=\"pending-members\">\n                {currentCollection.pending.map((pendingContributor) => (\n                  <div>{pendingContributor}</div>\n                ))}\n              </div>\n            </div>\n          </div>\n        : undefined }\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Link, Switch, Route } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBook, faQuoteRight, faPlus, faFolder } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group' \n\nimport Quote from '../editor/Quote'\nimport Reference from '../forms/Reference'\nimport Navbar from './Navbar'\nimport References from './References'\nimport Collection from '../forms/Collection'\nimport Collections from './Collections'\nimport CollectionOverview from './CollectionOverview'\nimport DefaultView from './DefaultView'\nimport ReferenceOverview from './ReferenceOverview'\nimport QuotesProvider from './../../context/QuotesContext'\nimport ReferencesProvider from './../../context/ReferencesContext'\nimport CollectionsProvider from './../../context/CollectionsContext'\n\nimport StylesProvider from '../../context/StylesContext'\nimport DeleteCollection from './DeleteCollection'\nimport Members from './Members'\n\nimport './layout.css'\n\nexport default function Layout (props) {\n  const [ isPlusActive, setIsPlusActive ] = useState(false);\n\n  useEffect(() => {\n    if(!localStorage.user) return props.history.push('/login')\n  }, [props.history])\n\n  return (\n    <StylesProvider>\n      <CollectionsProvider>\n        <ReferencesProvider>\n          <QuotesProvider>\n            <div className=\"layout-container\">\n              <Navbar history={props.history} />\n              <div className=\"layout\">\n                <Collections />\n                <References />\n                <div className=\"main-content\">\n                  <Switch>\n                    <Route exact path=\"/main\" component={DefaultView} />\n                    <Route path=\"/main/collections/:id\" component={CollectionOverview} />\n                    <Route exact path=\"/main/references/:id\" component={ReferenceOverview} />\n                  </Switch>\n                  {/* <Quotes /> */}\n                  <div className=\"add-content\">\n                    <CSSTransitionGroup\n                      transitionName=\"plus-button\"\n                      transitionEnterTimeout={250}\n                      transitionLeaveTimeout={200}\n                      component=\"div\"\n                    >\n                      {isPlusActive ?\n                        <div className=\"add-content-buttons\">\n                          <div>Add quote\n                          <Link to=\"/main/quote/add\" onClick={() => setIsPlusActive(!isPlusActive)}>\n                              <button className=\"plus-quote\"><FontAwesomeIcon icon={faQuoteRight} /></button>\n                            </Link>\n                          </div>\n                          <div>Add reference <Link to=\"/main/reference/add\"><button className=\"plus-reference\"><FontAwesomeIcon icon={faBook} /></button></Link></div>\n                          <div>Add collection <Link to=\"/main/collection/add\"><button className=\"plus-collection\"><FontAwesomeIcon icon={faFolder} /></button></Link></div>\n                        </div>\n                        : undefined}\n                    </CSSTransitionGroup>\n                    <button onClick={() => setIsPlusActive(!isPlusActive)}><FontAwesomeIcon icon={faPlus} /></button>\n                  </div>\n                </div>\n                <Switch>\n                  <Route exact path=\"/main/quote/add\" component={Quote} />\n                  <Route exact path=\"/main/quote/:id\" component={Quote} />\n                  <Route exact path=\"/main/reference/add\" component={Reference} />\n                  <Route exact path=\"/main/reference/:id/edit\" component={Reference} />\n                  <Route exact path=\"/main/collection/add\" component={Collection} />\n                  <Route exact path=\"/main/collection/:id/edit\" component={Collection} />\n                  <Route exact path=\"/main/collections/:id/delete\" component={DeleteCollection} />\n                  <Route exact path=\"/main/collections/:id/members\" component={Members} />\n                </Switch>\n              </div>\n            </div>\n          </QuotesProvider>\n        </ReferencesProvider>\n      </CollectionsProvider>\n    </StylesProvider>\n  )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Router from './Router';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport Login from './components/auth/Login'\nimport Signup from './components/auth/Signup'\nimport Landing from './components/Landing'\nimport Layout from './components/overview/Layout'\n\nexport default function Router() {\n  return (\n    <div>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Landing} />\n          <Route path=\"/main\" component={Layout} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  )\n}\n"],"sourceRoot":""}