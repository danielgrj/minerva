(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{164:function(e,t,n){e.exports=n(402)},169:function(e,t,n){},228:function(e,t){},231:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),o=n.n(c),i=(n(169),n(12)),l=n(34),u=n(1),s=n.n(u),m=n(5),p=n(13),f=n(6),d=n(10),v=n(3),b=n(4),E=n(25),h=n.n(E),O=h.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/auth",withCredentials:!0}),g={signup:function(e){return O.post("/signup",e)},login:function(e){return O.post("/login",e)},logout:function(){return O.post("/logout",{token:localStorage.token})}},y=n(82),j=n.n(y),C="https://atldan-minerva.herokuapp.com/",S=j.a.connect(C,{query:"token=".concat(localStorage.token),reconnection:!1});var N=function(e){S.on("savedQuote",(function(t){return e(null,t)}))},w=function(e){S.on("updatedQuote",(function(t){return e(null,t)}))},k=function(e,t,n,a){S.emit("editQuote",{editorState:e,editorHtml:n},t,a)};function x(){S.removeAllListeners()}n(231);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:"",password:""}),u=Object(f.a)(l,2),E=u[0],h=u[1],O=Object(a.useState)({className:"",notification:void 0}),y=Object(f.a)(O,2),N=y[0],w=y[1];Object(a.useEffect)((function(){o(!0),localStorage.user&&e.history.push("/main")}),[e.history]);var k=function(e){var t=e.target.name,n=e.target.value;h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},E,Object(p.a)({},t,n)))},x=function(){var t=Object(m.a)(s.a.mark((function t(n){var a,c,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,g.login(E);case 4:a=t.sent,c=a.data,o=c.user,i=c.token,localStorage.user=JSON.stringify(o),localStorage.token=i,S=j.a.connect(C,{query:"token=".concat(localStorage.token)}),e.history.push("/main"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),401===t.t0.response.status&&w({networkError:{className:"error-animation",notification:r.a.createElement("div",{className:"error-network"},"Incorrect email or passwor")}}),w({networkError:{className:"error-animation",notification:r.a.createElement("div",{className:"error-network"},"Something went wrong on the server")}});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"container container--login"},r.a.createElement("div",{className:"card card--login ".concat(N.className)},r.a.createElement("h2",null,"Log in"),N.notification,r.a.createElement("form",{onSubmit:x},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:b.h}),r.a.createElement("input",{type:"text",name:"email",id:"email",value:E.email,onChange:k})),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:b.m}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:E.password,onChange:k})),r.a.createElement("input",{type:"submit",value:"Login",className:"submit"}),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"If you don't have an account yet, you can create one ",r.a.createElement(i.b,{to:"/signup"},"here")))))):void 0)}var R=n(161),_=n.n(R);n(295);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){var t=this,n=Object(a.useState)(!1),c=Object(f.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)({email:"",password:"",confirmPassword:"",name:""}),u=Object(f.a)(l,2),E=u[0],h=u[1],O=Object(a.useState)({className:"",notification:void 0}),y=Object(f.a)(O,2),j=y[0],C=y[1],S=Object(a.useState)({className:"",notification:void 0}),N=Object(f.a)(S,2),w=N[0],k=N[1];Object(a.useEffect)((function(){localStorage.user&&t.props.history.push("/profile"),i(!0)}),[]),Object(a.useEffect)((function(){E.password!==E.confirmPassword?C({className:"danger",notification:r.a.createElement("span",{className:"error-form"},"Both passwords must be the same")}):C({className:"",notification:void 0}),_.a.isEmail(E.email)?k({className:"",notification:void 0}):k({className:"danger",notification:r.a.createElement("span",{className:"error-form"},"Please introduce a valid email")})}),[E]);var x=function(e){var t=e.target.name,n=e.target.value;h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},E,Object(p.a)({},t,n)))},T=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!j.notification&&!w.notification){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,g.signup(E);case 5:i(!1),setTimeout((function(){return e.history.push("/login")}),200);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},o?r.a.createElement("div",{className:"container container--signup"},r.a.createElement("div",{className:"card card--signup"},r.a.createElement("h2",null,"Sign up"),r.a.createElement("form",{onSubmit:T},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:b.t}),r.a.createElement("input",{type:"text",name:"name",id:"name",value:E.name,onChange:x})),r.a.createElement("label",{htmlFor:"email"},"Email ",w.notification),r.a.createElement("div",{className:"input ".concat(w.className)},r.a.createElement(v.a,{className:"icon",icon:b.h}),r.a.createElement("input",{type:"text",name:"email",id:"email",value:E.email,onChange:x})),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{className:"icon",icon:b.m}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:E.password,onChange:x})),r.a.createElement("label",{htmlFor:"password"},"Verify password ",j.notification),r.a.createElement("div",{className:"input ".concat(j.className)},r.a.createElement(v.a,{className:"icon",icon:b.m}),r.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:E.confirmPassword,onChange:x})),r.a.createElement("input",{type:"submit",className:"submit",value:"Sign up"})))):void 0)}n(296);function D(e){return Object(a.useEffect)((function(){if(localStorage.user)return e.history.push("/main")}),[e.history]),r.a.createElement("div",{className:"container container--landing"},r.a.createElement("div",{className:"slogan"},r.a.createElement("h1",null,"Minerva"),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, tempora optio aspernatur sapiente quae natus enim recusandae minima delectus ducimus! Aperiam, nisi animi tempora porro veniam facilis corrupti eaque harum!"),r.a.createElement("div",{className:"identify"},r.a.createElement(i.b,{to:"/signup",className:"signup"},"Signup"),r.a.createElement(i.b,{to:"/login",className:"login"},"Login")))}var Q=n(162),L=n.n(Q),F=n(85),I=n.n(F),B=n(26),U=n(27),G=n(29),M=n(28),K=n(30),W=n(23),J=n(163),H=n.n(J),z=(n(388),n(389),function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={editorState:W.EditorState.createEmpty(),id:n.props.id,textDocument:n.props.textDocument},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.handleSaved((function(e,t){n.props.handleId(t._id),n.setState({id:t._id})})),n.props.handleGetDocument((function(e){var t=Object(W.convertFromRaw)(JSON.parse(e.body));n.setState({editorState:W.EditorState.createWithContent(t)})}));case 2:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(e){n.props.ocrText&&n.props.ocrText!==e.ocrText&&n.setState({editorState:W.EditorState.createWithContent(W.ContentState.createFromText(n.props.ocrText))}),n.props.handleDocument(n.state.id)},n.componentWillUnmount=function(){n.props.handleDocument(n.state.textDocument),n.props.handleUnmount()},n.editorOnChange=function(e){var t=Object(W.convertToRaw)(e.getCurrentContent());n.props.handleUpdate(t,n.state.id,H()(t)),n.setState({editorState:e})},n.handleKeyCommand=function(e,t){var a=W.RichUtils.handleKeyCommand(t,e);return a?(n.editorOnChange(a),"handled"):"not-handled"},n._onBoldClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"BOLD"))},n._onItalicClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"ITALIC"))},n._onUnderlineClick=function(){n.editorOnChange(W.RichUtils.toggleInlineStyle(n.state.editorState,"UNDERLINE"))},n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"min-editor"},r.a.createElement("div",{className:"menu-styles"},r.a.createElement("button",null,r.a.createElement(v.a,{icon:b.j})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this._onBoldClick},r.a.createElement(v.a,{icon:b.b})),r.a.createElement("button",{onClick:this._onItalicClick},r.a.createElement(v.a,{icon:b.l})),r.a.createElement("button",{onClick:this._onUnderlineClick},r.a.createElement(v.a,{icon:b.s})))),r.a.createElement(W.Editor,{editorState:this.state.editorState,onChange:this.editorOnChange,handleKeyCommand:this.handleKeyCommand}))}}]),t}(a.Component)),V=n(32),Y=h.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/collections",withCredentials:!0}),Z={createCollection:function(e){return Y.post("/",e)},getAllCollections:function(){return Y.get("/")},getOneCollection:function(e){return Y.get("/".concat(e))},updateCollection:function(e,t){return Y.put("/".concat(e),t)},deleteCollection:function(e){return Y.delete("/".concat(e))}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=Object(a.createContext)(),te=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={collections:[],currentCollection:{name:"",contributors:[],pending:[],quotes:[],userFrom:""},filtersCollections:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllCollections();case 1:case"end":return e.stop()}}),e)}))),n.cleanCurrentCollection=function(){n.setState({currentCollection:{name:"",contributors:[],pending:[],quotes:[],userFrom:""}})},n.getAllCollections=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getAllCollections();case 2:t=e.sent,a=t.data,n.setState({collections:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getOneCollection(t);case 2:a=e.sent,r=a.data,n.setState({currentCollection:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.createCollection(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.collections;return{collections:[].concat(Object(V.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,Z.updateCollection(t,a);case 3:r=e.sent,c=r.data,n.setState((function(e){return{collections:e.collections.map((function(e){return e._id===c._id?c:e}))}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.deleteOneQuoteFromCollection=function(e){n.setState((function(t){var n=t.currentCollection,a=n.quotes.filter((function(t){return t._id!==e._id}));return{currentCollection:X({},n,{quotes:a})}}))},n.deleteOneCollection=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.deleteCollection(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{collections:e.collections.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.state,t=e.collections,n=e.currentCollection,a=e.filtersCollections,c=this.getAllCollections,o=this.getOneCollection,i=this.createOneCollection,l=this.deleteOneCollection,u=this.updateOneCollection,s=this.cleanCurrentCollection,m=this.deleteOneQuoteFromCollection;return r.a.createElement(ee.Provider,{value:{collections:t,currentCollection:n,filtersCollections:a,getAllCollections:c,getOneCollection:o,createOneCollection:i,updateOneCollection:u,deleteOneCollection:l,cleanCurrentCollection:s,deleteOneQuoteFromCollection:m}},this.props.children)}}]),t}(a.Component),ne=h.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/quotes",withCredentials:!0}),ae={createQuote:function(e){return ne.post("/",e)},getAllQuotes:function(){return ne.get("/")},getOneQuote:function(e){return ne.get("/".concat(e))},updateQuote:function(e,t){return ne.put("/".concat(e),t)},deleteQuote:function(e){return ne.delete("/".concat(e))}},re=Object(a.createContext)(),ce=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={quotes:[],currentQuote:{},filters:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllQuotes();case 1:case"end":return e.stop()}}),e)}))),n.getAllQuotes=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getAllQuotes();case 2:t=e.sent,a=t.data,n.setState({quotes:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getOneQuote(t);case 2:a=e.sent,r=a.data,n.setState({currentQuote:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.createQuote(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.quotes;return{quotes:[].concat(Object(V.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.updateQuote(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.addQuote=function(e){n.setState((function(t){var n=t.quotes;return JSON.stringify(n).includes(e._id)?{quotes:n.map((function(t){return t._id===e._id?e:t}))}:{quotes:[].concat(Object(V.a)(n),[e])}}))},n.deleteOneQuote=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.deleteQuote(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{quotes:e.quotes.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.state,t=e.quotes,n=e.currentQuote,a=e.filter,c=this.getAllQuotes,o=this.getOneQuote,i=this.createOneQuote,l=this.deleteOneQuote,u=this.addQuote,s=this.updateOneQuote;return r.a.createElement(re.Provider,{value:{quotes:t,currentQuote:n,filter:a,getAllQuotes:c,getOneQuote:o,createOneQuote:i,deleteOneQuote:l,addQuote:u,updateOneQuote:s}},this.props.children)}}]),t}(a.Component),oe=h.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/references",withCredentials:!0}),ie={createReference:function(e){return oe.post("/",e)},getAllReferences:function(){return oe.get("/")},getOneReference:function(e){return oe.get("/".concat(e))},updateReference:function(e,t){return oe.put("/".concat(e),t)},deleteReference:function(e){return oe.delete("/".concat(e))}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=Object(a.createContext)(),me=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={references:[],currentReference:{type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:"",language:"",isbn:"",url:"",doi:"",accessed:"",archive:""},filtersReferences:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllReferences();case 1:case"end":return e.stop()}}),e)}))),n.cleanCurrentReference=function(){n.setState({currentReference:{type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:"",language:"",isbn:"",url:"",doi:"",accessed:"",archive:""}})},n.getAllReferences=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getAllReferences();case 2:t=e.sent,a=t.data,n.setState({references:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getOneReference(t);case 2:a=e.sent,r=a.data,n.setState({currentReference:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.createReference(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.references;return{references:[].concat(Object(V.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.updateReference(t,a);case 2:r=e.sent,c=r.data,n.setState((function(e){return{references:e.references.map((function(e){return e._id===c._id?c:e}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.deleteOneReference=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.deleteReference(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{references:e.references.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteOneQuoteFromReference=function(e){n.setState((function(t){var n=t.currentReference,a=n.quotes.filter((function(t){return t._id!==e._id}));return{currentReference:ue({},n,{quotes:a})}}))},n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.state,t=e.references,n=e.currentReference,a=e.filtersReferences,c=this.getAllReferences,o=this.getOneReference,i=this.createOneReference,l=this.deleteOneReference,u=this.updateOneReference,s=this.cleanCurrentReference,m=this.deleteOneQuoteFromReference;return r.a.createElement(se.Provider,{value:{references:t,currentReference:n,filtersReferences:a,getAllReferences:c,getOneReference:o,createOneReference:i,updateOneReference:u,deleteOneReference:l,cleanCurrentReference:s,deleteOneQuoteFromReference:m}},this.props.children)}}]),t}(a.Component);n(390);function pe(e){var t=Object(a.useContext)(re),n=t.addQuote,c=t.updateOneQuote,o=Object(a.useContext)(ee),i=o.collections,l=o.updateOneCollection,u=o.getAllCollections,p=Object(a.useContext)(se),E=p.references,h=p.getOneReference,O=Object(a.useState)(e.match.params.id),g=Object(f.a)(O,2),y=g[0],j=g[1],C=Object(a.useState)(void 0),S=Object(f.a)(C,2),T=S[0],P=S[1],R=Object(a.useState)(!1),_=Object(f.a)(R,2),A=_[0],q=_[1],D=Object(a.useState)(!1),Q=Object(f.a)(D,2),F=Q[0],B=Q[1],U=Object(a.useState)(!1),G=Object(f.a)(U,2),M=G[0],K=G[1],W=Object(a.useState)(!1),J=Object(f.a)(W,2),H=J[0],V=J[1],Y=Object(a.useState)(void 0),Z=Object(f.a)(Y,2),$=Z[0],X=Z[1],te=Object(a.useState)(i),ne=Object(f.a)(te,2),ce=ne[0],oe=ne[1];Object(a.useEffect)((function(){return K(!0),document.body.classList.add("block-scroll"),function(){document.body.classList.remove("block-scroll")}}),[]),Object(a.useEffect)((function(){return $&&(oe(i.filter((function(e){return!e.quotes.includes($._id)}))),u()),function(){$&&n($)}}),[$,i,n,u]),Object(a.useEffect)((function(){$&&h($._id)}),[$,h]);var ie=function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.match.params.id){t.next=7;break}return t.next=3,ae.getOneQuote(y);case 3:a=t.sent,r=a.data,X(r),n(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,I.a.recognize(t,"eng").progress((function(e){}));case 3:n=e.sent,I.a.terminate(),P(n.text),q(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(t.target.files[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#collection").value,n=ce.find((function(e){return e._id===t})),q(!0),n.quotes.push($._id),e.next=6,l(t,n);case 6:q(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#reference").value,q(!0),e.next=4,c($._id,{referenceFrom:t});case 4:q(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){K(!1),setTimeout((function(){e.history.goBack()}),200)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},M?r.a.createElement("div",{className:"quote-container"},r.a.createElement("div",{className:"quote"},r.a.createElement("div",{className:"quote-editor"},r.a.createElement("div",null,r.a.createElement("div",{className:"quote-menu"},r.a.createElement("div",{className:"upload-wrapper"},r.a.createElement("button",null,r.a.createElement(v.a,{icon:b.k})),r.a.createElement("input",{type:"file",onChange:ue})),r.a.createElement("button",{onClick:function(){return B(!0)}},r.a.createElement(v.a,{icon:b.d})),r.a.createElement("button",{onClick:function(){return V(!H)}},r.a.createElement(v.a,{icon:b.c})))),r.a.createElement(z,{handleSaved:N,handleUpdate:k,isQuote:!0,id:y,handleId:j,handleDocument:function(e){e&&w((function(e,t){X(t)}))},ocrText:T,textDocument:$,handleGetDocument:ie,handleUnmount:x})),$?r.a.createElement("div",{className:"editor-meta"},r.a.createElement("div",{className:"add-to-collection"},r.a.createElement("select",{name:"collection",id:"collection"},ce.map((function(e){var t=e._id,n=e.name;return r.a.createElement("option",{key:t,value:t},n)}))),r.a.createElement("button",{onClick:me},"Add")),r.a.createElement("div",{className:"add-to-reference"},r.a.createElement("select",{name:"refrence",id:"reference"},E.map((function(e){var t=e._id,n=e.authors,a=e.title;return r.a.createElement("option",{key:t,value:t},"".concat(n[0].lastName,", ").concat(n[0].firstName.charAt(0),". ").concat(a))}))),r.a.createElement("button",{onClick:pe},"Set"))):void 0,A?r.a.createElement("div",{className:"loading-sect"},r.a.createElement("div",{className:"spin-circle"})):void 0),F?r.a.createElement(L.a,{className:"camera-quote",onTakePhoto:function(e){le(e),B(!1)},isFullscreen:!0,isImageMirror:!1}):void 0):void 0))}n(391);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(f.a)(i,2),u=l[0],v=l[1],b=Object(a.useState)({type:"BOOK",title:"",firstName:"",lastName:"",volume:1,edition:"",place:"",publisher:"",date:"",numberOfPages:0,language:"",isbn:"",url:"",doi:"",accessed:"",archive:""}),E=Object(f.a)(b,2),h=E[0],O=E[1],g=Object(a.useContext)(se),y=g.currentReference,j=g.getOneReference,C=g.createOneReference,S=g.updateOneReference,N=g.cleanCurrentReference,w=g.deleteOneReference;Object(a.useEffect)((function(){return o(!0),document.body.classList.add("block-scroll"),function(){document.body.classList.remove("block-scroll")}}),[]),Object(a.useEffect)((function(){if(!h._id&&e.match.params.id||h._id!==e.match.params.id){for(var t in j(e.match.params.id),v(!0),y)null===y[t]&&(y[t]="");O(de({},y,{lastName:y.authors?y.authors[0].lastName:"",firstName:y.authors?y.authors[0].firstName:""}))}}),[y,j,e.match.params.id,h._id]);var k=function(e){O(de({},h,Object(p.a)({},e.target.name,e.target.value)))},x=function(){var t=Object(m.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(h._id);case 3:e.history.goBack(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),h._id?S(h._id,de({},h,{authors:[{firstName:h.firstName,lastName:h.lastName}]})):C(de({},h,{authors:[{firstName:h.firstName,lastName:h.lastName}]})),N(),o(!1),setTimeout((function(){e.history.goBack()}),200);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){o(!1),setTimeout((function(){e.history.goBack()}),250)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"reference-container"},r.a.createElement("form",{className:"reference",onSubmit:T},u?r.a.createElement("div",{className:"delete-reference"},r.a.createElement("button",{onClick:x},"Delete")):void 0,r.a.createElement("h2",null,e.match.params.id?"Edit reference":"Add reference"),r.a.createElement("select",{name:"type",id:"type"},r.a.createElement("option",{value:"BOOK"},"Book"),r.a.createElement("option",{value:"BOOK_SECTION"},"Book Section"),r.a.createElement("option",{value:"ENCYCLOPEDIA_ARTICLE"},"Encyclopedia article"),r.a.createElement("option",{value:"JOURNAL_ARTICLE"},"Journal article"),r.a.createElement("option",{value:"MAGAZINE_ARTICLE"},"Magazine article"),r.a.createElement("option",{value:"NEWSPAPER_ARTICLE"},"Newspaper article"),r.a.createElement("option",{value:"THESIS"},"Thesis"),r.a.createElement("option",{value:"WEB_PAGE"},"Web page")),r.a.createElement("div",{className:"fields"},r.a.createElement("label",{htmlFor:"Title"},"Title"),r.a.createElement("input",{type:"text",name:"title",value:h.title,onChange:k}),r.a.createElement("label",{htmlFor:"author.firstName"},"First name"),r.a.createElement("input",{type:"text",name:"firstName",id:"firstName",value:h.firstName,onChange:k}),r.a.createElement("label",{htmlFor:"author.lastName"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastName",id:"lastName",value:h.lastName,onChange:k}),r.a.createElement("label",{htmlFor:"publiser"},"Publisher"),r.a.createElement("input",{type:"text",name:"publisher",id:"publiser",value:h.publisher,onChange:k}),r.a.createElement("label",{htmlFor:"place"},"Place"),r.a.createElement("input",{type:"text",name:"place",id:"place",value:h.place,onChange:k}),r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"date",name:"date",id:"date",value:h.date,onChange:k}),r.a.createElement("label",{htmlFor:"numberOfPages"},"Number of pages"),r.a.createElement("input",{type:"number",name:"numberOfPages",id:"numberOfPages",value:h.numberOfPages,onChange:k}),r.a.createElement("label",{htmlFor:"volume"},"Volume"),r.a.createElement("input",{type:"number",name:"volume",id:"volume",value:h.volume,onChange:k}),r.a.createElement("label",{htmlFor:"url"},"Website url"),r.a.createElement("input",{type:"url",name:"url",id:"url",value:h.url,onChange:k}),r.a.createElement("label",{htmlFor:"accessed"},"Date of access"),r.a.createElement("input",{type:"date",name:"accessed",id:"accessed",value:h.accessed,onChange:k}),r.a.createElement("label",{htmlFor:"edition"},"Edition"),r.a.createElement("input",{type:"text",name:"edition",id:"edition",value:h.edition,onChange:k}),r.a.createElement("label",{htmlFor:"archive"},"Archive"),r.a.createElement("input",{type:"text",name:"archive",id:"archive",value:h.archive,onChange:k}),r.a.createElement("label",{htmlFor:"language"},"Language"),r.a.createElement("input",{type:"text",name:"language",id:"language",value:h.language,onChange:k}),r.a.createElement("label",{htmlFor:"isbn"},"ISBN"),r.a.createElement("input",{type:"text",name:"isbn",id:"isbn",value:h.isbn,onChange:k}),r.a.createElement("label",{htmlFor:"doi"},"DOI"),r.a.createElement("input",{type:"text",name:"doi",id:"doi",value:h.doi,onChange:k})),r.a.createElement("input",{type:"submit",value:"Save reference"}))):void 0))}n(392);function be(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({}),u=Object(f.a)(l,2),p=u[0],E=u[1];Object(a.useEffect)((function(){localStorage.user&&E(JSON.parse(localStorage.user))}),[]);var h=function(){var t=Object(m.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.logout();case 2:localStorage.clear(),e.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-left"},r.a.createElement(v.a,{icon:b.a}),r.a.createElement("div",{className:"minerva"},r.a.createElement(i.b,{to:"/main"},"Minerva"))),r.a.createElement("div",{className:"navbar-center"}),r.a.createElement("div",{className:"navbar-right"},r.a.createElement("div",{className:"avatar",onClick:function(){return o(!c)}},r.a.createElement("img",{src:p.avatar,alt:"user"})))),r.a.createElement(d.CSSTransitionGroup,{transitionName:"navbars",transitionEnterTimeout:250,transitionLeaveTimeout:200},c?r.a.createElement("nav",{className:"user-sidebar"},r.a.createElement("h3",null,p.name),r.a.createElement("div",{className:"session"},r.a.createElement("button",{onClick:h},"Logout"))):void 0))}n(393);function Ee(){var e=Object(a.useContext)(se).references;return r.a.createElement("div",{className:"references"},r.a.createElement("h3",null,r.a.createElement(v.a,{icon:b.c})," References"),e.map((function(e){var t=e.authors,n=e.title,a=e._id;return r.a.createElement("div",{key:a,className:"reference-item"},r.a.createElement("div",null,r.a.createElement(i.c,{to:"/main/references/".concat(a),activeClassName:"current-reference"},"".concat(t[0].lastName,", ").concat(t[0].firstName.charAt(0),". ").concat(n))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/main/reference/".concat(a,"/edit")},r.a.createElement(v.a,{icon:b.f}))))})))}var he=h.a.create({baseURL:"https://atldan-minerva.herokuapp.com/api/styles",withCredentials:!0}),Oe={createStyle:function(e){return he.post("/",e)},getAllStyles:function(){return he.get("/")},getOneStyle:function(e){return he.get("/".concat(e))},updateStyle:function(e,t){return he.put("/".concat(e),t)},deleteStyle:function(e){return he.delete("/".concat(e))}},ge=Object(a.createContext)(),ye=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={styles:[],currentStyle:{},filtersStyles:{}},n.componentDidMount=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getAllStyles();case 1:case"end":return e.stop()}}),e)}))),n.getAllStyles=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.getAllStyles();case 2:t=e.sent,a=t.data,n.setState({styles:a});case 5:case"end":return e.stop()}}),e)}))),n.getOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.styles.find((function(e){return e._id===t})),n.setState({currentStyle:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.createStyle(t);case 2:a=e.sent,r=a.data,n.setState((function(e){var t=e.styles;return{styles:[].concat(Object(V.a)(t),[r])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteOneStyle=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.deleteStyle(t);case 2:a=e.sent,r=a.data,n.setState((function(e){return{styles:e.styles.filter((function(e){return e._id!==r._id}))}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.state,t=e.styles,n=e.currentStyle,a=e.filtersStyles,c=this.getAllStyles,o=this.getOneStyle,i=this.createOneStyle,l=this.deleteOneStyle,u=this.updateOneStyle,s=this.cleanCurrentStyle;return r.a.createElement(ge.Provider,{value:{styles:t,currentStyle:n,filtersStyles:a,getAllStyles:c,getOneStyle:o,createOneStyle:i,updateOneStyle:u,deleteOneStyle:l,cleanCurrentStyle:s}},this.props.children)}}]),t}(a.Component);n(394);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)({name:"",defaultStyle:""}),l=Object(f.a)(i,2),u=l[0],v=l[1],b=Object(a.useContext)(ee),E=b.createOneCollection,h=b.currentCollection,O=b.getOneCollection,g=b.updateOneCollection,y=b.cleanCurrentCollection,j=Object(a.useContext)(ge).styles;Object(a.useEffect)((function(){return o(!0),document.body.classList.add("block-scroll"),function(){document.body.classList.remove("block-scroll")}}),[]),Object(a.useEffect)((function(){if(!u._id&&e.match.params.id||u._id!==e.match.params.id){for(var t in O(e.match.params.id),h)null===h[t]&&(h[t]="");v(h)}}),[h,u._id,O,e.match.params.id]);var C=function(e){v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,Object(p.a)({},e.target.name,e.target.value)))},S=function(){var t=Object(m.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),u._id?g(u._id,u):E(u),y(),o(!1),setTimeout((function(){e.history.goBack()}),200);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){o(!1),setTimeout((function(){e.history.goBack()}),250)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-container"},r.a.createElement("form",{className:"collection",onSubmit:S},r.a.createElement("h2",null,e.match.params.id?"Edit collection":"Add collection"),r.a.createElement("label",{htmlFor:"name"},"Name of the collection"),r.a.createElement("input",{type:"text",name:"name",id:"name",onChange:C,value:u.name}),r.a.createElement("label",{htmlFor:"defaulStyle"},"Style"),r.a.createElement("select",{name:"defaultStyle",id:"defaultStyle",onChange:C},j.map((function(e){var t=e._id,n=e.name;return r.a.createElement("option",{key:t,value:t},n)}))),r.a.createElement("input",{type:"submit",value:"Save collection"}))):void 0))}n(395);function Se(){var e=Object(a.useContext)(ee).collections;return r.a.createElement("div",{className:"collections"},r.a.createElement("h3",null,r.a.createElement(v.a,{icon:b.i})," Collections"),e.map((function(e){var t=e.name,n=e._id;return r.a.createElement("div",{key:n,className:"collection-item"},r.a.createElement("div",null,r.a.createElement(i.c,{to:"/main/collections/".concat(n),activeClassName:"current-collection"},t)),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/main/collection/".concat(n,"/edit")},r.a.createElement(v.a,{icon:b.f}))))})))}n(396);function Ne(e){var t=e.quote,n=Object(a.useState)(!1),c=Object(f.a)(n,2),o=c[0],l=c[1],u=Object(a.useContext)(re).deleteOneQuote,s=Object(a.useContext)(ee),m=s.currentCollection,p=s.deleteOneQuoteFromCollection,E=Object(a.useContext)(se),h=E.currentReference,O=E.deleteOneQuoteFromReference;return r.a.createElement("div",{className:"quote-card"},r.a.createElement(i.b,{to:"/main/quote/".concat(t._id),className:"content"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.html}})),r.a.createElement("div",{className:"meta"},r.a.createElement("div",null,r.a.createElement("h3",null,"Title")),r.a.createElement("div",{className:"options ".concat(o?"options-active":"")},r.a.createElement("button",{className:"options-button",onClick:function(){return l(!o)}},r.a.createElement(v.a,{icon:b.g})),r.a.createElement(d.CSSTransitionGroup,{transitionName:"options",transitionEnterTimeout:250,transitionLeaveTimeout:200},o?r.a.createElement("div",{className:"options-actions"},r.a.createElement("button",{onClick:function(){u(t._id),m._id&&p(t),h._id&&O(t)},className:"delete"},r.a.createElement(v.a,{icon:b.r})," Delete"),r.a.createElement("button",{className:"edit"},r.a.createElement(v.a,{icon:b.n})," Change reference")):void 0))))}function we(e){var t=Object(a.useContext)(re).quotes,n=e.quotes||t;return r.a.createElement("div",{className:"quotes-container"},n.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(Ne,{quote:e}))})))}n(397);function ke(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(!1),u=Object(f.a)(l,2),s=u[0],m=u[1],p=Object(a.useContext)(ee),E=p.currentCollection,h=p.getOneCollection,O=p.cleanCurrentCollection;return Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){return h(e.match.params.id),o(!1),setTimeout((function(){o(!0)}),280),function(){O()}}),[e.match.params.id,h,O]),r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-overview"},r.a.createElement("nav",{className:"collection-nav"},r.a.createElement("div",{className:"collection-name"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:b.i})," ",E.name)),r.a.createElement("div",{className:"collection-actions"},r.a.createElement(i.b,{to:"/main/collections/".concat(E._id,"/members")},r.a.createElement("button",null,r.a.createElement(v.a,{icon:b.u}))),r.a.createElement("button",{onClick:function(){return m(!s)}},r.a.createElement(v.a,{icon:b.g})),r.a.createElement(d.CSSTransitionGroup,{transitionName:"menu-popup",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},s?r.a.createElement("div",{className:"collection-options"},r.a.createElement(i.b,{to:"/main/collection/".concat(E._id,"/edit")},r.a.createElement(v.a,{icon:b.f})," Edit"),r.a.createElement(i.b,{to:"/main/collections/".concat(E._id,"/delete")},r.a.createElement(v.a,{icon:b.r})," Delete")):void 0))),r.a.createElement(we,{quotes:E.quotes})):void 0)}n(398);function xe(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){return c(!0),function(){c(!1)}}),[]),r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},n?r.a.createElement("div",{className:"default-view"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:b.e})," Recent"),r.a.createElement(we,null)):void 0)}function Te(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=e.match.params.id,l=Object(a.useContext)(se),u=l.currentReference,s=l.getOneReference;return Object(a.useEffect)((function(){o(!0)}),[]),Object(a.useEffect)((function(){s(i),o(!1),setTimeout((function(){o(!0)}),280)}),[i,s]),r.a.createElement("div",null,r.a.createElement(d.CSSTransitionGroup,{transitionName:"collection-overview",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"collection-overview"},r.a.createElement("h2",null,r.a.createElement(v.a,{icon:b.c})," ".concat(u.authors?"".concat(u.authors[0].lastName,", "):""," \n                ").concat(u.authors?"".concat(u.authors[0].firstName.charAt(0),"."):""," \n                ").concat(u.title)),r.a.createElement(we,{quotes:u.quotes})):void 0))}n(399);function Pe(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),u=l[0],s=l[1],m=Object(a.useContext)(ee),p=m.currentCollection,E=m.deleteOneCollection;Object(a.useEffect)((function(){o(!0),console.log("mounting")}),[]);var h=function(){o(!1),setTimeout((function(){e.history.goBack()}),200)};return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:h}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"delete-container"},r.a.createElement("div",{className:"delete-card"},r.a.createElement("div",{className:"delete-close"},r.a.createElement("button",{onClick:h},r.a.createElement(v.a,{icon:b.q}))),r.a.createElement("p",null,"This action ",r.a.createElement("b",null,"cannot")," be undone. This will permanently remove ",r.a.createElement("b",null,p.name)," from your collections."),r.a.createElement("p",null,"Please type in the name of the collection to confirm"),r.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{id:"delete",disabled:u!==p.name,onClick:function(){E(p._id),e.history.push("/main")}},"Delete collection"))):void 0))}n(400);function Re(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),u=l[0],s=l[1],m=Object(a.useContext)(ee),p=m.currentCollection,E=m.updateOneCollection;Object(a.useEffect)((function(){o(!0)}),[p]);return r.a.createElement("div",{className:"route-container"},r.a.createElement("div",{className:"back-container",onClick:function(){o(!1),setTimeout((function(){e.history.goBack()}),200)}}),r.a.createElement(d.CSSTransitionGroup,{transitionName:"quote",transitionAppearTimeout:600,transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"members-container"},r.a.createElement("div",{className:"members-card"},r.a.createElement("div",{className:"members-header"},r.a.createElement(v.a,{icon:b.u}),r.a.createElement("h2",null,"Add members")),r.a.createElement("div",{className:"add-members"},r.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{onClick:function(){E(p._id,{email:u})}},r.a.createElement(v.a,{icon:b.v}))),r.a.createElement("div",{className:"members-list"},r.a.createElement("div",null,r.a.createElement("h3",null,"Creator"),r.a.createElement("div",{className:"collection-creator"},r.a.createElement("div",null,r.a.createElement("img",{src:p.userFrom.avatar,alt:p.userFrom.avater})),r.a.createElement("p",null,p.userFrom.name))),r.a.createElement("h4",null,"Current members"),p.contributors.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:e.avatar,alt:e.name})),e.name)}))),r.a.createElement("div",{className:"pending-members"},p.pending.map((function(e){return r.a.createElement("div",null,e)}))))):void 0))}n(401);function _e(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){if(!localStorage.user)return e.history.push("/login")}),[e.history]),r.a.createElement(ye,null,r.a.createElement(te,null,r.a.createElement(me,null,r.a.createElement(ce,null,r.a.createElement("div",{className:"layout-container"},r.a.createElement(be,{history:e.history}),r.a.createElement("div",{className:"layout"},r.a.createElement(Se,null),r.a.createElement(Ee,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/main",component:xe}),r.a.createElement(l.a,{path:"/main/collections/:id",component:ke}),r.a.createElement(l.a,{exact:!0,path:"/main/references/:id",component:Te})),r.a.createElement("div",{className:"add-content"},r.a.createElement(d.CSSTransitionGroup,{transitionName:"plus-button",transitionEnterTimeout:250,transitionLeaveTimeout:200,component:"div"},c?r.a.createElement("div",{className:"add-content-buttons"},r.a.createElement("div",null,"Add quote",r.a.createElement(i.b,{to:"/main/quote/add",onClick:function(){return o(!c)}},r.a.createElement("button",{className:"plus-quote"},r.a.createElement(v.a,{icon:b.p})))),r.a.createElement("div",null,"Add reference ",r.a.createElement(i.b,{to:"/main/reference/add"},r.a.createElement("button",{className:"plus-reference"},r.a.createElement(v.a,{icon:b.c})))),r.a.createElement("div",null,"Add collection ",r.a.createElement(i.b,{to:"/main/collection/add"},r.a.createElement("button",{className:"plus-collection"},r.a.createElement(v.a,{icon:b.i}))))):void 0),r.a.createElement("button",{onClick:function(){return o(!c)}},r.a.createElement(v.a,{icon:b.o})))),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/main/quote/add",component:pe}),r.a.createElement(l.a,{exact:!0,path:"/main/quote/:id",component:pe}),r.a.createElement(l.a,{exact:!0,path:"/main/reference/add",component:ve}),r.a.createElement(l.a,{exact:!0,path:"/main/reference/:id/edit",component:ve}),r.a.createElement(l.a,{exact:!0,path:"/main/collection/add",component:Ce}),r.a.createElement(l.a,{exact:!0,path:"/main/collection/:id/edit",component:Ce}),r.a.createElement(l.a,{exact:!0,path:"/main/collections/:id/delete",component:Pe}),r.a.createElement(l.a,{exact:!0,path:"/main/collections/:id/members",component:Re}))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:D}),r.a.createElement(l.a,{path:"/main",component:_e}),r.a.createElement(l.a,{exact:!0,path:"/login",component:P}),r.a.createElement(l.a,{exact:!0,path:"/signup",component:q}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[164,1,2]]]);
//# sourceMappingURL=main.9ce78d57.chunk.js.map