{"version":3,"sources":["services/auth.js","services/api.js","components/auth/Login.js","components/auth/Signup.js","components/Landing.js","services/editor.js","components/editor/Editor.js","services/collections.js","context/CollectionsContext.js","services/quotes.js","context/QuotesContext.js","services/references.js","context/ReferencesContext.js","components/editor/Quote.js","components/forms/Reference.js","components/overview/Navbar.js","components/overview/References.js","services/styles.js","context/StylesContext.js","components/forms/Collection.js","components/overview/Collections.js","components/overview/QuoteCard.js","components/overview/Quotes.js","components/overview/CollectionOverview.js","components/overview/DefaultView.js","components/overview/ReferenceOverview.js","components/overview/DeleteCollection.js","components/overview/Members.js","components/overview/Layout.js","serviceWorker.js","index.js","Router.js"],"names":["SERVICE","axios","create","baseURL","withCredentials","AUTH_SERVICE","signup","user","post","login","logout","token","localStorage","socket","io","connect","query","Login","props","useState","isVisible","setIsVisible","email","password","userData","setUserData","className","notification","undefined","networkError","setNetworkError","useEffect","history","push","handleInput","e","key","target","name","value","onSubmit","a","preventDefault","data","JSON","stringify","response","status","transitionName","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout","component","htmlFor","icon","faEnvelope","type","id","onChange","faLock","to","Signup","confirmPassword","passwordError","setPasswordError","emailError","setEmailError","validator","isEmail","setTimeout","faUser","Landing","savedQuote","cb","on","quote","updatedQuote","updateQuote","editorState","editorHtml","referenceFrom","emit","cleanConnection","removeAllListeners","Editor","state","EditorState","createEmpty","textDocument","componentDidMount","handleSaved","err","handleId","_id","setState","handleGetDocument","blocks","convertFromRaw","parse","body","createWithContent","componentDidUpdate","prevProps","ocrText","ContentState","createFromText","handleDocument","componentWillUnmount","handleUnmount","editorOnChange","rawContent","convertToRaw","getCurrentContent","handleUpdate","draftToHtml","handleKeyCommand","command","newState","RichUtils","_onBoldClick","toggleInlineStyle","_onItalicClick","_onUnderlineClick","faFont","onClick","this","faBold","faItalic","faUnderline","Draft","Component","COLLECTIONS_SERVICE","createCollection","collection","getAllCollections","get","getOneCollection","updateCollection","update","put","deleteCollection","delete","CollectionsContext","createContext","CollectionsProvider","collections","currentCollection","contributors","pending","quotes","userFrom","filtersCollections","cleanCurrentCollection","createOneCollection","prevState","updateOneCollection","console","log","newCollection","map","deleteOneQuoteFromCollection","quoteToRemove","filter","deleteOneCollection","collectionToRemove","Provider","children","QUOTES_SERVICE","createQuote","getAllQuotes","getOneQuote","deleteQuote","QuotesContext","QuotesProvider","currentQuote","filters","createOneQuote","updateOneQuote","addQuote","oldQuotes","includes","deleteOneQuote","REFERENCE_SERVICE","createReference","reference","getAllReferences","getOneReference","updateReference","deleteReference","ReferencesContext","ReferencesProvider","references","currentReference","title","firstName","lastName","volume","edition","place","publisher","date","numberOfPages","language","isbn","url","doi","accessed","archive","filtersReferences","cleanCurrentReference","REFERENCES_SERVICE","createOneReference","updateOneReference","newReference","deleteOneReference","referenceToRemove","deleteOneQuoteFromReference","Quote","useContext","allCollections","match","params","setId","setOcrText","imageUrl","isLoading","setIsLoading","isCameraActive","setIsCameraActive","setQuote","setCollections","document","classList","add","remove","scanText","image","Tesseract","recognize","progress","p","result","terminate","text","handleAttachment","files","goBack","faImage","faCamera","faBook","src","alt","renderImage","isQuote","querySelector","find","authors","charAt","onTakePhoto","dataUri","isFullscreen","Reference","referenceData","setReferenceData","Navbar","isUsernavbarVisible","setIsUsernabarVisible","clear","faBars","avatar","References","activeClassName","faEdit","STYLE_SERVICE","createStyle","style","getAllStyles","getOneStyle","updateStyle","deleteStyle","StylesContext","StylesProvider","styles","currentStyle","filtersStyles","STYLES_SERVICE","createOneStyle","deleteOneStyle","styleToRemove","updateOneStyle","cleanCurrentStyle","Collection","defaultStyle","collectionData","setCollectionData","Collections","faFolder","QuoteCard","isOptionsVisible","setIsOptionsVisible","dangerouslySetInnerHTML","__html","html","faEllipsisV","faTrash","faPenSquare","Quotes","contextQuotes","CollectionOverview","isOptionsActive","setIsOptionsActive","faUserFriends","DefaultView","faClock","ReferenceOverview","DeleteCollection","setName","handleClose","faTimesCircle","disabled","Members","setEmail","faUserPlus","avater","contributor","pendingContributor","Layout","isPlusActive","setIsPlusActive","exact","path","faQuoteRight","faPlus","Boolean","window","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.694d51fa.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/auth' : 'http://localhost:3000/api/auth';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst AUTH_SERVICE = {\n  signup: (user) => SERVICE.post('/signup', user),\n  login: (user) => SERVICE.post('/login', user),\n  logout: () => SERVICE.post('/logout', { token: localStorage.token})\n}\n\nexport default AUTH_SERVICE;","import io from 'socket.io-client';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/' : 'http://localhost:3000/'\n\nlet socket = io.connect(baseURL, {\n  query: `token=${localStorage.token}`\n});\n\n\nfunction restartSocket() {\n  socket = io.connect(baseURL, {\n    query: `token=${localStorage.token}`\n  });\n}\n\nfunction subscribeToTimer(cb) {\n  socket.on('timer', timestamp => cb(null, timestamp));\n  socket.emit('subscribeToTimer', 1000);\n} \n\nfunction signup(){\n  socket.emit('signup', { }, (error, user, token) => {\n    if(error) console.log(error)\n\n    localStorage.user = JSON.stringify(user)\n    localStorage.token = `Bearer ${token}`\n  })\n}\n\n\n\nexport { subscribeToTimer, signup, restartSocket };\nexport default socket","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLock, faEnvelope } from '@fortawesome/free-solid-svg-icons'\n\nimport AUTH_SERVICE from './../../services/auth'\nimport { restartSocket } from '../../services/api';\n\nimport './login.css'\n\nexport default function Login (props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ userData, setUserData ] = useState({\n    email: '',\n    password: ''\n  })\n  const [networkError, setNetworkError] = useState({\n    className: '',\n    notification: undefined\n  })\n\n  useEffect(() => {\n    setIsVisible(true)\n    if (localStorage.user) props.history.push('/main')\n  }, [props.history])\n\n  const handleInput = (e) => {\n    const key = e.target.name;\n    const value = e.target.value\n\n    setUserData({...userData, [key]: value})\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      const { data: { user, token } } = await AUTH_SERVICE.login(userData)\n      localStorage.user = JSON.stringify(user);\n      localStorage.token = token;\n      restartSocket(token)\n      props.history.push('/main');\n    } catch (e) {\n      if (e.response.status === 401) setNetworkError({ networkError: { className: 'error-animation', notification: <div className=\"error-network\">Incorrect email or passwor</div> } })\n      setNetworkError({ networkError: { className: 'error-animation', notification: <div className=\"error-network\">Something went wrong on the server</div> } })\n    }\n  }\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"container container--login\">\n          <div className={`card card--login ${networkError.className}`}>\n            <h2>Log in</h2>\n            {networkError.notification}\n            <form onSubmit={onSubmit}>\n\n              <label htmlFor=\"email\">Email</label>\n              <div className=\"input\">\n                <FontAwesomeIcon className=\"icon\" icon={faEnvelope} />\n                <input type=\"text\" name=\"email\" id=\"email\" value={userData.email} onChange={handleInput} />\n              </div>\n              <label htmlFor=\"password\">Password</label>\n              <div className=\"input\">\n                <FontAwesomeIcon className=\"icon\" icon={faLock} />\n                <input type=\"password\" name=\"password\" id=\"password\" value={userData.password} onChange={handleInput} />\n              </div>\n              <input type=\"submit\" value=\"Login\" className=\"submit\" />\n              <div className=\"footer\">\n                <p>If you don't have an account yet, you can create one <Link to=\"/signup\">here</Link></p>\n              </div>\n            </form>\n          </div>\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n    \n  )\n}","import React, { useState, useEffect } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser, faEnvelope, faLock} from '@fortawesome/free-solid-svg-icons'\nimport validator from 'validator'\n\nimport AUTH_SERVICE from './../../services/auth'\nimport './signup.css'\n\nexport default function Signup (props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    name: ''\n  });\n  const [passwordError, setPasswordError] = useState({\n    className: '',\n    notification: undefined\n  })\n  const [emailError, setEmailError] = useState({\n    className: '',\n    notification: undefined\n  });\n\n  useEffect(() => {\n    if (localStorage.user) this.props.history.push('/profile');\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    if (userData.password !== userData.confirmPassword) {\n      setPasswordError({\n        className: 'danger',\n        notification: <span className=\"error-form\">Both passwords must be the same</span>\n      })\n    } else {\n      setPasswordError({\n        className: '',\n        notification: undefined\n      })\n    }\n\n    if (!validator.isEmail(userData.email)) {\n      setEmailError({\n        className: 'danger',\n        notification: <span className=\"error-form\">Please introduce a valid email</span>\n      })\n    } else {\n      setEmailError({\n        className: '',\n        notification: undefined\n      })\n    }\n  }, [userData])\n\n  const handleInput = (e) => {\n    const key = e.target.name;\n    const value = e.target.value\n    \n    setUserData({...userData, [key]: value});\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    const { data: { user, token } } = await AUTH_SERVICE.signup(userData)\n    localStorage.user = JSON.stringify(user);\n    localStorage.token = token\n    setIsVisible(false)\n    setTimeout(() => props.history.push('/'), 200)\n  }\n\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"container container--signup\">\n        <div className=\"card card--signup\">\n          <h2>Sign up</h2>\n          <form onSubmit={onSubmit}>\n            <label htmlFor=\"name\">Name</label>\n            <div className=\"input\">\n              <FontAwesomeIcon className=\"icon\" icon={faUser} />\n              <input type=\"text\" name=\"name\" id=\"name\" value={userData.name} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"email\">Email {emailError.notification}</label>\n            <div className={`input ${emailError.className}`}>\n              <FontAwesomeIcon className=\"icon\" icon={faEnvelope} />\n              <input type=\"text\" name=\"email\" id=\"email\" value={userData.email} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"password\">Password</label>\n            <div className=\"input\">\n              <FontAwesomeIcon className=\"icon\" icon={faLock} />\n              <input type=\"password\" name=\"password\" id=\"password\" value={userData.password} onChange={handleInput} />\n            </div>\n            <label htmlFor=\"password\">Verify password {passwordError.notification}</label>\n            <div className={`input ${passwordError.className}`}>\n              <FontAwesomeIcon className=\"icon\" icon={faLock} />\n              <input type=\"password\" name=\"confirmPassword\" id=\"confirmPassword\" value={userData.confirmPassword} onChange={handleInput} />\n            </div>\n            <input type=\"submit\" className=\"submit\" value=\"Sign up\" />\n          </form>\n        </div>\n      </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './landing.css'\n\nexport default function Landing(props) {\n  useEffect(() => {\n    if(localStorage.user) return props.history.push('/main')\n  }, [props.history])\n\n  return (\n    <div className=\"container container--landing\">\n      <div className=\"slogan\">\n        <h1>Minerva</h1>\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, tempora optio aspernatur sapiente quae natus enim recusandae minima delectus ducimus! Aperiam, nisi animi tempora porro veniam facilis corrupti eaque harum!\n      </div>\n      <div className=\"identify\">\n        <Link to=\"/signup\" className=\"signup\">Signup</Link>\n        <Link to=\"/login\" className=\"login\">Login</Link>\n      </div>\n    </div>\n  )\n}\n","import socket from './api';\n\nconst savedQuote = (cb) => {\n  socket.on('savedQuote', (quote) => cb(null, quote))\n}\n\nconst updatedQuote = (cb) => {\n  socket.on('updatedQuote', (quote) => cb(null, quote))\n}\n\nconst updateQuote = (editorState, id, editorHtml, referenceFrom) => {\n  socket.emit('editQuote', {editorState, editorHtml}, id, referenceFrom)\n}\n\nfunction cleanConnection() {\n  socket.removeAllListeners()\n}\n\nexport { savedQuote, updateQuote, updatedQuote, cleanConnection }","import React, { Component } from 'react'\nimport { \n  Editor as DraftEditor, \n  EditorState, \n  RichUtils, \n  convertToRaw,\n  convertFromRaw, \n  ContentState,\n} from 'draft-js'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBold, faItalic, faUnderline, faFont } from '@fortawesome/free-solid-svg-icons'\nimport draftToHtml from 'draftjs-to-html'\n\nimport 'react-html5-camera-photo/build/css/index.css';\nimport './editor.css'\n\nexport default class Editor extends Component {\n\n  state = {\n    editorState: EditorState.createEmpty(),\n    id: this.props.id,\n    textDocument: this.props.textDocument\n  }\n\n  componentDidMount = async () => {\n    this.props.handleSaved((err, textDocument) => {\n      this.props.handleId(textDocument._id)\n      this.setState({ id: textDocument._id })\n      })\n\n    this.props.handleGetDocument((quote) => {\n      const blocks = convertFromRaw(JSON.parse(quote.body))\n      this.setState({ editorState: EditorState.createWithContent(blocks) })\n    })\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if(this.props.ocrText && this.props.ocrText !== prevProps.ocrText ) {\n      this.setState({ editorState: EditorState.createWithContent(ContentState.createFromText(this.props.ocrText))})\n    }\n    this.props.handleDocument(this.state.id)\n  }\n\n  componentWillUnmount = () => {\n    this.props.handleDocument(this.state.textDocument)\n    this.props.handleUnmount()\n  }\n\n  editorOnChange = (editorState) => {\n    const rawContent = convertToRaw(editorState.getCurrentContent())\n    this.props.handleUpdate(rawContent, this.state.id, draftToHtml(rawContent))\n    this.setState({ editorState })\n  }\n\n  handleKeyCommand = (command, editorState) => {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.editorOnChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n  _onBoldClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'))\n  }\n\n  _onItalicClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'ITALIC'))\n  }\n\n  _onUnderlineClick = () => {\n    this.editorOnChange(RichUtils.toggleInlineStyle(this.state.editorState, 'UNDERLINE'))\n  }\n\n\n  render() {\n    return (\n      <div className=\"min-editor\">\n        <div className=\"menu-styles\">\n          <button><FontAwesomeIcon icon={ faFont }/></button>\n          <div>\n            <button onClick={ this._onBoldClick }><FontAwesomeIcon icon={ faBold } /></button>\n            <button onClick={ this._onItalicClick }><FontAwesomeIcon icon={ faItalic } /></button>\n            <button onClick={ this._onUnderlineClick }><FontAwesomeIcon icon={ faUnderline } /></button>\n          </div>\n        </div>\n        <DraftEditor \n          editorState={ this.state.editorState } \n          onChange={ this.editorOnChange } \n          handleKeyCommand={ this.handleKeyCommand }\n        />\n      </div>\n    )\n  }\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/collections' : 'http://localhost:3000/api/collections';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst COLLECTIONS_SERVICE = {\n  createCollection: (collection) => SERVICE.post('/', collection),\n  getAllCollections: () => SERVICE.get('/'),\n  getOneCollection: (id) => SERVICE.get(`/${id}`),\n  updateCollection: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteCollection: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default COLLECTIONS_SERVICE;","import React, { Component, createContext } from 'react'\nimport COLLECTIONS_SERVICE from './../services/collections'\n\nexport const CollectionsContext = createContext()\n\nexport default class CollectionsProvider extends Component {\n\n  state = {\n    collections: [],\n    currentCollection: {\n      name: '',\n      contributors: [],\n      pending: [],\n      quotes: [],\n      userFrom: ''\n    },\n    filtersCollections: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllCollections()\n  }\n\n  cleanCurrentCollection = () => {\n    this.setState({\n      currentCollection: {\n        name: '',\n        contributors: [],\n        pending: [],\n        quotes: [],\n        userFrom: ''\n      }\n    })\n  }\n\n  getAllCollections = async () => {\n    const { data: collections } = await COLLECTIONS_SERVICE.getAllCollections()\n    this.setState({ collections })\n  }\n\n  getOneCollection = async (id) => {\n    const { data: currentCollection } = await COLLECTIONS_SERVICE.getOneCollection(id)\n    this.setState({ currentCollection })\n  }\n\n  createOneCollection = async (data) => {\n    const { data: collection } = await COLLECTIONS_SERVICE.createCollection(data);\n    this.setState(prevState => {\n      const { collections } = prevState;\n\n      return { collections: [...collections, collection] }\n    })\n  }\n\n  updateOneCollection = async (id, data) => {\n    console.log(data)\n    const { data: newCollection } = await COLLECTIONS_SERVICE.updateCollection(id, data);\n    this.setState(prevState => {\n      const { collections: oldCollections } = prevState;\n\n      const collections = oldCollections.map((collection) => {\n        if (collection._id === newCollection._id) return newCollection\n        return collection\n      })\n\n      return { collections }\n    })\n  }\n\n  deleteOneQuoteFromCollection = (quoteToRemove) => {\n    this.setState((prevState) => {\n      const { currentCollection } = prevState\n      const quotes = currentCollection.quotes.filter((quote) => quote._id !== quoteToRemove._id);\n\n      return { currentCollection: {...currentCollection, quotes } }\n    })\n  }\n\n  deleteOneCollection = async (id) => {\n    const { data: collectionToRemove } = await COLLECTIONS_SERVICE.deleteCollection(id);\n    this.setState((prevState) => {\n      const { collections: oldCollections } = prevState\n      const collections = oldCollections.filter((collection) => collection._id !== collectionToRemove._id);\n\n      return { collections }\n    })\n  }\n\n  render() {\n    const { collections, currentCollection, filtersCollections } = this.state\n    const {\n      getAllCollections,\n      getOneCollection,\n      createOneCollection,\n      deleteOneCollection,\n      updateOneCollection,\n      cleanCurrentCollection,\n      deleteOneQuoteFromCollection\n    } = this\n    return (\n      <CollectionsContext.Provider\n        value={{\n          collections,\n          currentCollection,\n          filtersCollections,\n          getAllCollections,\n          getOneCollection,\n          createOneCollection,\n          updateOneCollection,\n          deleteOneCollection,\n          cleanCurrentCollection,\n          deleteOneQuoteFromCollection\n        }}\n      >\n        {this.props.children}\n      </CollectionsContext.Provider>\n    )\n  }\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/quotes' : 'http://localhost:3000/api/quotes';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst QUOTES_SERVICE = {\n  createQuote: (quote) => SERVICE.post('/', quote),\n  getAllQuotes: () => SERVICE.get('/'),\n  getOneQuote: (id) => SERVICE.get(`/${id}`),\n  updateQuote: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteQuote: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default QUOTES_SERVICE;","import React, { createContext, Component } from 'react'\nimport QUOTES_SERVICE from '../services/quotes'\n\nexport const QuotesContext = createContext()\n\nexport default class QuotesProvider extends Component {\n  state = {\n    quotes: [],\n    currentQuote: {},\n    filters: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllQuotes()\n  }\n\n  getAllQuotes = async () => {\n    const { data: quotes} = await QUOTES_SERVICE.getAllQuotes()\n    this.setState({ quotes })\n  }\n\n  getOneQuote = async (id) => {\n    const { data: currentQuote } = await QUOTES_SERVICE.getOneQuote(id)\n    this.setState({ currentQuote })\n  }\n\n  createOneQuote = async (data) => {\n    const { data: quote } = await QUOTES_SERVICE.createQuote(data);\n    this.setState(prevState => {\n      const { quotes } = prevState;\n      \n      return { quotes: [...quotes, quote]}\n    })\n  }\n\n  updateOneQuote = async (id, data) => {\n    await QUOTES_SERVICE.updateQuote(id, data);\n  }\n  \n  addQuote = (quote) => {\n    this.setState(prevState => {\n      const { quotes: oldQuotes } = prevState;\n      \n      if (!JSON.stringify(oldQuotes).includes(quote._id)) return { quotes: [...oldQuotes, quote] }\n      const quotes = oldQuotes.map((currentQuote) => {\n        if(currentQuote._id === quote._id) {\n          return quote\n        }\n        return currentQuote\n      })\n      return { quotes }\n    })\n  }\n\n  deleteOneQuote = async (id) => {\n    const { data: quoteToRemove } = await QUOTES_SERVICE.deleteQuote(id);\n    this.setState((prevState) => {\n      const { quotes: oldQuotes } = prevState\n      const quotes = oldQuotes.filter((quote) => quote._id !== quoteToRemove._id );\n\n      return { quotes }\n    })\n  }\n\n  render() {\n    const { quotes, currentQuote, filter } = this.state\n    const { getAllQuotes, getOneQuote, createOneQuote, deleteOneQuote, addQuote, updateOneQuote } = this\n    return (\n      <QuotesContext.Provider value={ {quotes, currentQuote, filter, getAllQuotes, getOneQuote, createOneQuote, deleteOneQuote, addQuote, updateOneQuote} }>\n        {this.props.children}\n      </QuotesContext.Provider>\n    )\n  }\n}","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/references' : 'http://localhost:3000/api/references';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst REFERENCE_SERVICE = {\n  createReference: (reference) => SERVICE.post('/', reference),\n  getAllReferences: () => SERVICE.get('/'),\n  getOneReference: (id) => SERVICE.get(`/${id}`),\n  updateReference: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteReference: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default REFERENCE_SERVICE;","import React, { Component, createContext } from 'react'\nimport REFERENCES_SERVICE from './../services/references'\n\nexport const ReferencesContext = createContext()\n\nexport default class ReferencesProvider extends Component {\n  state = {\n    references: [],\n    currentReference: {\n      type: 'BOOK',\n      title: '',\n      firstName: '',\n      lastName: '',\n      volume: 1,\n      edition: '',\n      place: '',\n      publisher: '',\n      date: '',\n      numberOfPages: '',\n      language: '',\n      isbn: '',\n      url: '',\n      doi: '',\n      accessed: '',\n      archive: ''\n    },\n    filtersReferences: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllReferences()\n  }\n\n  cleanCurrentReference = () => {\n    this.setState({\n      currentReference: {\n        type: 'BOOK',\n        title: '',\n        firstName: '',\n        lastName: '',\n        volume: 1,\n        edition: '',\n        place: '',\n        publisher: '',\n        date: '',\n        numberOfPages: '',\n        language: '',\n        isbn: '',\n        url: '',\n        doi: '',\n        accessed: '',\n        archive: ''\n      }})\n  }\n\n  getAllReferences = async () => {\n    const { data: references } = await REFERENCES_SERVICE.getAllReferences()\n    this.setState({ references })\n  }\n\n  getOneReference = async (id) => {\n    const { data: currentReference } = await REFERENCES_SERVICE.getOneReference(id)\n    this.setState({ currentReference })\n  }\n\n  createOneReference = async (data) => {\n    const { data: reference } = await REFERENCES_SERVICE.createReference(data);\n    this.setState(prevState => {\n      const { references } = prevState;\n\n      return { references: [...references, reference] }\n    })\n  }\n\n  updateOneReference = async (id, data) => {\n    const { data: newReference } = await REFERENCES_SERVICE.updateReference(id, data);\n    this.setState(prevState => {\n      const { references: oldReferences } = prevState;\n\n      const references = oldReferences.map((reference) => {\n        if(reference._id === newReference._id ) return newReference\n        return reference\n      }) \n\n      return { references }\n    })\n  }\n\n  deleteOneReference = async (id) => {\n    const { data: referenceToRemove } = await REFERENCES_SERVICE.deleteReference(id);\n    this.setState((prevState) => {\n      const { references: oldReferences } = prevState\n      const references = oldReferences.filter((reference) => reference._id !== referenceToRemove._id);\n\n      return { references }\n    })\n  }\n\n  deleteOneQuoteFromReference = (quoteToRemove) => {\n    this.setState((prevState) => {\n      const { currentReference } = prevState\n      const quotes = currentReference.quotes.filter((quote) => quote._id !== quoteToRemove._id);\n\n      return { currentReference: { ...currentReference, quotes } }\n    })\n  }\n\n\n\n  render() {\n    const { references, currentReference, filtersReferences } = this.state\n    const { \n      getAllReferences, \n      getOneReference, \n      createOneReference, \n      deleteOneReference, \n      updateOneReference, \n      cleanCurrentReference,\n      deleteOneQuoteFromReference\n     } = this\n    return (\n      <ReferencesContext.Provider \n        value={{ \n          references, \n          currentReference, \n          filtersReferences,\n          getAllReferences,\n          getOneReference,\n          createOneReference,\n          updateOneReference,\n          deleteOneReference,\n          cleanCurrentReference,\n          deleteOneQuoteFromReference\n        }}\n      >\n        {this.props.children}\n      </ReferencesContext.Provider>\n    )\n  }\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { savedQuote, updateQuote, updatedQuote, cleanConnection } from '../../services/editor'\nimport Camera from 'react-html5-camera-photo'\nimport Tesseract from 'tesseract.js'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faImage, faCamera, faBook } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group' \n\nimport Editor from './Editor'\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport { QuotesContext } from '../../context/QuotesContext'\nimport { ReferencesContext } from '../../context/ReferencesContext'\nimport QUOTES_SERVICE from '../../services/quotes'\n\nimport 'react-html5-camera-photo/build/css/index.css';\nimport './quote.css'\n\nexport default function Quote (props){\n  const { addQuote, updateOneQuote } = useContext(QuotesContext)\n  const { collections: allCollections, updateOneCollection, getAllCollections  } = useContext(CollectionsContext)\n  const { references } = useContext(ReferencesContext)\n\n  const [ id, setId ] = useState(props.match.params.id);\n  const [ ocrText, setOcrText ] = useState(undefined);\n  const [ imageUrl, setImageUrl ] = useState('');\n  const [ isLoading, setIsLoading ] = useState(false);\n  const [ isCameraActive, setIsCameraActive ] = useState(false);\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ quote, setQuote ] = useState(undefined)\n  const [ collections, setCollections] = useState(allCollections)\n\n\n  useEffect(() => {\n    setIsVisible(true)\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => {\n    if(quote) {\n      setCollections(allCollections.filter(collection => !collection.quotes.includes(quote._id)))\n      getAllCollections()\n    }\n\n    return () => {\n      if(quote) addQuote(quote)\n    }\n  }, [quote, allCollections, addQuote, getAllCollections])\n\n  const handleGetDocument = async (cb) => {\n    if(props.match.params.id) {\n      const { data: quote } = await QUOTES_SERVICE.getOneQuote(id)\n      setQuote(quote)\n      cb(quote)\n    }\n  }\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const scanText = async (image) => {\n    setIsLoading(true)\n\n    const result = await Tesseract\n      .recognize(image, 'eng')\n      .progress((p) => {\n      })\n    Tesseract.terminate();\n\n    setOcrText(result.text)\n    setIsLoading(false)\n  }\n\n  const handlePhoto = (dataUri) => {\n    scanText(dataUri)\n    setIsCameraActive(false)\n  }\n\n  const handleAttachment = async (e) => {\n    scanText(e.target.files[0])\n  }\n\n  const handleQuote = (quote) => {\n    if (quote) {\n      updatedQuote((err, quote) => {\n        setQuote(quote)\n      })\n    }\n  }\n\n  const setCollection = () => {\n    const id = document.querySelector('#collection').value;\n    const collection = collections.find((currentCollection) => currentCollection._id === id)\n\n    collection.quotes.push(quote._id)\n    updateOneCollection(id, collection)\n  }\n\n  const setReference = () => {\n    const referenceFrom = document.querySelector('#reference').value;\n    \n    updateOneQuote(quote._id, {referenceFrom})\n  }\n\n  const renderImage = () => {\n    if (imageUrl) return <div><img src={imageUrl} alt=\"attached\" /></div>\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        { isVisible ? \n          <div className=\"quote-container\">\n            <div className=\"quote\">\n              <div className=\"quote-editor\">\n                <div>\n                  <div className=\"quote-menu\">\n                    <div className=\"upload-wrapper\">\n                      <button><FontAwesomeIcon icon={faImage} /></button>\n                      <input type=\"file\" onChange={handleAttachment} />\n                    </div>\n                    <button onClick={() => setIsCameraActive(true)}><FontAwesomeIcon icon={faCamera} /></button>\n                    <button><FontAwesomeIcon icon={faBook} /></button>\n                    {isLoading ? <div className=\"spin-circle\"></div> : undefined}\n                  </div>\n                  {renderImage()}\n                </div>\n                <Editor\n                  handleSaved={savedQuote}\n                  handleUpdate={updateQuote}\n                  isQuote={true}\n                  id={id}\n                  handleId={setId}\n                  handleDocument={handleQuote}\n                  ocrText={ocrText}\n                  textDocument={quote}\n                  handleGetDocument={handleGetDocument}\n                  handleUnmount={cleanConnection}\n                />\n              </div>\n              { quote ?\n                <div className=\"editor-meta\">\n                  <div className=\"add-to-collection\">\n                    <select name=\"collection\" id=\"collection\">\n                      {collections.map(({ _id, name }) => (\n                        <option key={_id} value={_id}>{name}</option>\n                      ))}\n                    </select>\n                    <button onClick={setCollection}>Add</button>\n                  </div>\n                  <div className=\"add-to-reference\">\n                    <select name=\"refrence\" id=\"reference\" >\n                      {references.map(({_id, authors, title}) => (\n                        <option key={_id} value={_id}>{`${authors[0].lastName}, ${authors[0].lastName.charAt(0)}. ${title}`}</option>\n                      ))}\n                    </select>\n                    <button onClick={setReference}>Set</button>\n                  </div>\n                </div>\n              : undefined}\n            </div>\n            { isCameraActive ? <Camera onTakePhoto={handlePhoto} isFullscreen={true} /> : undefined }\n          </div> \n        : undefined }\n      </CSSTransitionGroup>\n    </div>\n  )\n}","import React, { useState, useEffect, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\n\nimport './reference.css'\nimport { ReferencesContext } from '../../context/ReferencesContext'\n\n\n\nexport default function Reference(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ referenceData, setReferenceData ] = useState({\n    type: 'BOOK',\n    title: '',\n    firstName: '',\n    lastName: '',\n    volume: 1,\n    edition: '',\n    place: '',\n    publisher: '',\n    date: '',\n    numberOfPages: 0,\n    language: '',\n    isbn: '',\n    url: '',\n    doi: '',\n    accessed: '',\n    archive: ''\n  })\n\n  const { \n    currentReference, \n    getOneReference, \n    createOneReference, \n    updateOneReference, \n    cleanCurrentReference \n  } = useContext(ReferencesContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => { \n    if ((!referenceData._id && props.match.params.id) || referenceData._id !== props.match.params.id) {\n      getOneReference(props.match.params.id)\n\n      for(const key in currentReference) {\n        if (currentReference[key] === null) currentReference[key] = ''\n      }\n\n      setReferenceData({ \n        ...currentReference,\n        lastName: currentReference.authors ? currentReference.authors[0].lastName : '', \n        firstName: currentReference.authors ? currentReference.authors[0].firstName : '',\n      }) \n    }\n  }, [currentReference, getOneReference, props.match.params.id, referenceData._id])\n\n  const handleInput = (e) => {\n    setReferenceData({ ...referenceData, [e.target.name]: e.target.value });\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    if(referenceData._id){\n      updateOneReference(referenceData._id, {\n        ...referenceData, authors: [{\n          firstName: referenceData.firstName,\n          lastName: referenceData.lastName\n        }] \n      })\n    } else {\n      createOneReference({\n        ...referenceData, authors: [{\n          firstName: referenceData.firstName,\n          lastName: referenceData.lastName\n        }] \n      })\n    }\n\n    cleanCurrentReference()\n    setIsVisible(false)\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={() => {\n        setIsVisible(false)\n        setTimeout(() => {\n          props.history.goBack()\n        }, 250)\n      }}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ? \n          <div className=\"reference-container\">\n            <form className=\"reference\" onSubmit={onSubmit}>\n              <h2>{props.match.params.id ? 'Edit reference' : 'Add reference'}</h2>\n              <select name=\"type\" id=\"type\">\n                <option value=\"BOOK\">Book</option>\n                <option value=\"BOOK_SECTION\">Book Section</option>\n                <option value=\"ENCYCLOPEDIA_ARTICLE\">Encyclopedia article</option>\n                <option value=\"JOURNAL_ARTICLE\">Journal article</option>\n                <option value=\"MAGAZINE_ARTICLE\">Magazine article</option>\n                <option value=\"NEWSPAPER_ARTICLE\">Newspaper article</option>\n                <option value=\"THESIS\">Thesis</option>\n                <option value=\"WEB_PAGE\">Web page</option>\n              </select>\n              <div className=\"fields\">\n                <label htmlFor=\"Title\">Title</label>\n                <input type=\"text\" name=\"title\" value={referenceData.title} onChange={handleInput}/>\n                <label htmlFor=\"author.firstName\">First name</label>\n                <input type=\"text\" name=\"firstName\" id=\"firstName\" value={referenceData.firstName} onChange={handleInput} />\n                <label htmlFor=\"author.lastName\">Last Name</label>\n                <input type=\"text\" name=\"lastName\" id=\"lastName\" value={referenceData.lastName} onChange={handleInput} />\n                <label htmlFor=\"publiser\">Publisher</label>\n                <input type=\"text\" name=\"publisher\" id=\"publiser\" value={referenceData.publisher} onChange={handleInput}/>\n                <label htmlFor=\"place\">Place</label>\n                <input type=\"text\" name=\"place\" id=\"place\" value={referenceData.place} onChange={handleInput}/>\n                <label htmlFor=\"date\">Date</label>\n                <input type=\"date\" name=\"date\" id=\"date\" value={referenceData.date} onChange={handleInput}/>\n                <label htmlFor=\"numberOfPages\">Number of pages</label>\n                <input type=\"number\" name=\"numberOfPages\" id=\"numberOfPages\" value={referenceData.numberOfPages} onChange={handleInput}/>\n                <label htmlFor=\"volume\">Volume</label>\n                <input type=\"number\" name=\"volume\" id=\"volume\" value={referenceData.volume} onChange={handleInput}/>\n                <label htmlFor=\"url\">Website url</label>\n                <input type=\"url\" name=\"url\" id=\"url\" value={referenceData.url} onChange={handleInput}/>\n                <label htmlFor=\"accessed\">Date of access</label>\n                <input type=\"date\" name=\"accessed\" id=\"accessed\" value={referenceData.accessed} onChange={handleInput}/>\n                <label htmlFor=\"edition\">Edition</label>\n                <input type=\"text\" name=\"edition\" id=\"edition\" value={referenceData.edition} onChange={handleInput}/>\n                <label htmlFor=\"archive\">Archive</label>\n                <input type=\"text\" name=\"archive\" id=\"archive\" value={referenceData.archive} onChange={handleInput}/>\n                <label htmlFor=\"language\">Language</label>\n                <input type=\"text\" name=\"language\" id=\"language\" value={referenceData.language} onChange={handleInput}/>\n                <label htmlFor=\"isbn\">ISBN</label>\n                <input type=\"text\" name=\"isbn\" id=\"isbn\" value={referenceData.isbn} onChange={handleInput}/>\n                <label htmlFor=\"doi\">DOI</label>\n                <input type=\"text\" name=\"doi\" id=\"doi\" value={referenceData.doi} onChange={handleInput}/>\n              </div> \n              <input type=\"submit\" value=\"Save reference\" />\n            </form>\n          </div> \n        : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars, faSearch } from '@fortawesome/free-solid-svg-icons'\n\nimport AUTH_SERVICE from './../../services/auth'\n\nimport './navbar.css'\nimport Search from './Search'\n\nexport default function Navbar(props) {\n  const [isUsernavbarVisible, setIsUsernabarVisible] = useState(false)\n  const user = JSON.parse(localStorage.user)\n\n  const logout = async () => {\n    await AUTH_SERVICE.logout()\n    localStorage.clear();\n    props.history.push('/')\n  }\n\n  return (\n    <>\n      <nav className=\"navbar\">\n        <div className=\"navbar-left\">\n          <FontAwesomeIcon icon={faBars} />\n          <div className=\"minerva\"><Link to=\"/main\">Minerva</Link></div>\n        </div>\n        <div className=\"navbar-center\">\n          {/* <Search /> */}\n        </div>\n        <div className=\"navbar-right\">\n          <div className=\"avatar\" onClick={() => setIsUsernabarVisible(!isUsernavbarVisible)}>\n            <img src={user.avatar} alt=\"user\" />\n          </div>\n        </div>\n      </nav>\n      <CSSTransitionGroup\n        transitionName=\"navbars\"\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n      >\n        { isUsernavbarVisible ? \n          <nav className=\"user-sidebar\">\n            <h3>{user.name}</h3>\n            <div className=\"session\">\n              <Link to=\"/profile\">Profile</Link>\n              <button onClick={logout}>Logout</button>\n            </div>\n          </nav>\n        : undefined }\n      </CSSTransitionGroup>\n      \n    </>\n    \n  )\n}\n","import React, { useContext } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { ReferencesContext } from './../../context/ReferencesContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faBook } from '@fortawesome/free-solid-svg-icons'\n\nimport './references.css'\n\nexport default function References() {\n  const { references } = useContext(ReferencesContext);\n  \n  return (\n    <div className=\"references\">\n      <h3><FontAwesomeIcon icon={faBook} /> References</h3>\n      {references.map((({authors, title, _id}) => (\n        <div key={_id} className=\"reference-item\">\n          <div><NavLink to={`/main/references/${_id}`} activeClassName=\"current-reference\">{`${authors[0].lastName}, ${authors[0].firstName.charAt(0)}. ${title}`}</NavLink></div>\n          <div>\n            <Link to={`/main/reference/${_id}/edit`}><FontAwesomeIcon icon={faEdit} /></Link>\n          </div>\n        </div>\n      )))}\n    </div>\n  )\n}\n","import axios from 'axios';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://atldan-minerva.herokuapp.com/api/styles' : 'http://localhost:3000/api/styles';\n\nconst SERVICE = axios.create({ baseURL, withCredentials: true })\n\nconst STYLE_SERVICE = {\n  createStyle: (style) => SERVICE.post('/', style),\n  getAllStyles: () => SERVICE.get('/'),\n  getOneStyle: (id) => SERVICE.get(`/${id}`),\n  updateStyle: (id, update) => SERVICE.put(`/${id}`, update),\n  deleteStyle: (id) => SERVICE.delete(`/${id}`)\n}\n\nexport default STYLE_SERVICE;","import React, { Component, createContext } from 'react'\nimport STYLES_SERVICE from '../services/styles'\n\nexport const StylesContext = createContext()\n\nexport default class StylesProvider extends Component {\n  state ={\n    styles: [],\n    currentStyle: {},\n    filtersStyles: {}\n  }\n\n  componentDidMount = async () => {\n    this.getAllStyles()\n  }\n\n  getAllStyles = async () => {\n    const { data: styles } = await STYLES_SERVICE.getAllStyles()\n    this.setState({ styles })\n  }\n\n  getOneStyle = async (id) => {\n    const currentStyle = this.state.styles.find((currentStyle) => currentStyle._id === id )\n    this.setState({ currentStyle })\n  }\n\n  createOneStyle = async (data) => {\n    const { data: style } = await STYLES_SERVICE.createStyle(data);\n    this.setState(prevState => {\n      const { styles } = prevState;\n\n      return { styles: [...styles, style] }\n    })\n  }\n\n  deleteOneStyle = async (id) => {\n    const { data: styleToRemove } = await STYLES_SERVICE.deleteStyle(id);\n    this.setState((prevState) => {\n      const { styles: oldStyles } = prevState\n      const styles = oldStyles.filter((style) => style._id !== styleToRemove._id);\n\n      return { styles }\n    })\n  }\n\n  render() {\n    const { styles, currentStyle, filtersStyles } = this.state\n    const {\n      getAllStyles,\n      getOneStyle,\n      createOneStyle,\n      deleteOneStyle,\n      updateOneStyle,\n      cleanCurrentStyle\n    } = this\n\n    return (\n      <StylesContext.Provider\n        value={{\n          styles,\n          currentStyle,\n          filtersStyles,\n          getAllStyles,\n          getOneStyle,\n          createOneStyle,\n          updateOneStyle,\n          deleteOneStyle,\n          cleanCurrentStyle\n        }}\n      >\n        {this.props.children}\n      </StylesContext.Provider>\n    )\n  }\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './collection.css'\nimport { StylesContext } from '../../context/StylesContext'\n\nexport default function Collection(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ collectionData, setCollectionData ] = useState({\n    name: '',\n    defaultStyle: '',\n    contributors: [],\n    quotes: []\n  })\n\n  const {\n    createOneCollection,\n    currentCollection,\n    getOneCollection,\n    updateOneCollection,\n    cleanCurrentCollection\n  } = useContext(CollectionsContext)\n\n  const { styles } = useContext(StylesContext);\n\n  useEffect(() => {\n    setIsVisible(true)\n\n    document.body.classList.add('block-scroll')\n\n    return () => {\n      document.body.classList.remove('block-scroll')\n    }\n  }, [])\n\n  useEffect(() => {\n    if ((!collectionData._id && props.match.params.id) || collectionData._id !== props.match.params.id) {\n      \n      getOneCollection(props.match.params.id)\n      for (const key in currentCollection) {\n        if (currentCollection[key] === null) currentCollection[key] = ''\n      }\n\n      setCollectionData(currentCollection)\n    }\n  }, [currentCollection, collectionData._id, getOneCollection, props.match.params.id])\n\n  const handleInput = (e) => {\n    setCollectionData({ ...collectionData, [e.target.name]: e.target.value });\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n    if (collectionData._id) {\n      updateOneCollection(collectionData._id, collectionData)\n    } else {\n      createOneCollection(collectionData)\n    }\n\n    cleanCurrentCollection()\n    setIsVisible(false)\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={() => {\n        setIsVisible(false)\n        setTimeout(() => {\n          props.history.goBack()\n        }, 250)\n      }}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ?\n          <div className=\"collection-container\">\n            <form className=\"collection\" onSubmit={onSubmit}>\n              <h2>{props.match.params.id ? 'Edit collection' : 'Add collection'}</h2>\n              <label htmlFor=\"name\">Name of the collection</label>\n              <input type=\"text\" name=\"name\" id=\"name\" onChange={handleInput} value={collectionData.name}/>\n              <label htmlFor=\"defaulStyle\">Style</label>\n              <select name=\"defaultStyle\" id=\"defaultStyle\" onChange={handleInput}>\n                {styles.map(({ _id, name }) => (\n                  <option key={_id} value={_id}>{name}</option>\n                ))}\n              </select>\n              <label htmlFor=\"quotes\">Add quotes</label>\n              <input type=\"text\" name=\"quotes\" id=\"quotes\" />\n              <label htmlFor=\"contributors\">Add contributors</label>\n              <input type=\"text\" name=\"contributors\" id=\"contributors\" />\n              <input type=\"submit\" value=\"Save collection\"/>\n            </form>\n          </div>\n          : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit,  faFolder  } from '@fortawesome/free-solid-svg-icons'\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './collections.css'\n\nexport default function Collections() {\n  const { collections } = useContext(CollectionsContext);\n  return (\n    <div className=\"collections\">\n      <h3><FontAwesomeIcon icon={ faFolder } /> Collections</h3>\n      {collections.map((({ name, _id }) => (\n        <div key={_id} className=\"collection-item\">\n          <div><NavLink to={`/main/collections/${_id}`} activeClassName=\"current-collection\">{name}</NavLink></div>\n          <div>\n            <Link to={`/main/collection/${_id}/edit`}><FontAwesomeIcon icon={faEdit} /></Link>\n          </div>\n        </div>\n      )))}\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEllipsisV, faTrash, faPenSquare } from '@fortawesome/free-solid-svg-icons'\nimport { QuotesContext } from '../../context/QuotesContext'\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport { ReferencesContext } from '../../context/ReferencesContext'\n\nexport default function QuoteCard({ quote }) {\n  const [isOptionsVisible, setIsOptionsVisible] = useState(false);\n  const { deleteOneQuote } = useContext(QuotesContext)\n  const { currentCollection, deleteOneQuoteFromCollection } = useContext(CollectionsContext)\n  const { currentReference, deleteOneQuoteFromReference } = useContext(ReferencesContext)\n\n  const handleDelete = () => {\n    deleteOneQuote(quote._id)\n    if (currentCollection._id) deleteOneQuoteFromCollection(quote)\n    if (currentReference._id) deleteOneQuoteFromReference(quote)\n  }\n\n  return (\n    <div className=\"quote-card\">\n      <Link to={`/main/quote/${quote._id}`} className=\"content\">\n        <span dangerouslySetInnerHTML={{ __html: quote.html }}></span>\n      </Link>\n      <div className=\"meta\">\n        <div>\n          <h3>Title</h3>\n        </div>\n        <div className={`options ${ isOptionsVisible ? 'options-active' : ''}`}>\n          <button className=\"options-button\" onClick={() => setIsOptionsVisible(!isOptionsVisible)}><FontAwesomeIcon icon={faEllipsisV} /></button>\n          <CSSTransitionGroup\n            transitionName=\"options\"\n            transitionEnterTimeout={250}\n            transitionLeaveTimeout={200}\n          >\n            {isOptionsVisible ?\n              <div className=\"options-actions\">\n                <button onClick={handleDelete} className=\"delete\"><FontAwesomeIcon icon={faTrash} /> Delete</button>\n                <button className=\"edit\"><FontAwesomeIcon icon={faPenSquare} /> Change reference</button>\n              </div>\n              : undefined}\n          </CSSTransitionGroup>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { QuotesContext }  from '../../context/QuotesContext'\n\n\nimport './quotes.css'\nimport QuoteCard from './QuoteCard'\n\nexport default function Quotes(props) {\n  const { quotes: contextQuotes }  = useContext(QuotesContext)\n  const quotes = props.quotes || contextQuotes\n\n  return (\n    <div className=\"quotes-container\">\n      {quotes.map((quote) => (\n        <div key={quote._id}>\n          <QuoteCard quote={quote} />\n        </div>\n      ))}\n    </div>\n  )\n}\n","import React, { useState, useContext, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFolder, faEllipsisV, faUserFriends, faTrash, faEdit } from '@fortawesome/free-solid-svg-icons'\n\nimport { CollectionsContext } from '../../context/CollectionsContext'\nimport Quotes from './Quotes';\n\nimport './collectionOverview.css'\n\nexport default function CollectionOverview(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ isOptionsActive, setIsOptionsActive ] = useState(false)\n  const { currentCollection, getOneCollection, cleanCurrentCollection } = useContext(CollectionsContext);\n  \n  useEffect(() => {\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    getOneCollection(props.match.params.id)\n    setIsVisible(false)\n    setTimeout(() => {\n      setIsVisible(true)\n    }, 280)    \n\n    return () => {\n      cleanCurrentCollection()\n    }\n  }, [props.match.params.id, getOneCollection, cleanCurrentCollection])\n  \n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"collection-overview\">\n          <nav className=\"collection-nav\">\n            <div className=\"collection-name\"><h2><FontAwesomeIcon icon={faFolder} /> {currentCollection.name}</h2></div>\n            <div className=\"collection-actions\">\n              <Link to={`/main/collections/${currentCollection._id}/members`} ><button><FontAwesomeIcon icon={faUserFriends} /></button></Link>\n              <button onClick={() => setIsOptionsActive(!isOptionsActive)}><FontAwesomeIcon icon={faEllipsisV} /></button>\n              <CSSTransitionGroup\n                transitionName=\"menu-popup\"\n                transitionAppearTimeout={600}\n                transitionEnterTimeout={250}\n                transitionLeaveTimeout={200}\n                component=\"div\"\n              >\n                {isOptionsActive ?\n                  <div className=\"collection-options\">\n                    <Link to={`/main/collection/${currentCollection._id}/edit`}><FontAwesomeIcon icon={faEdit} /> Edit</Link>\n                    <Link to={`/main/collections/${currentCollection._id}/delete`}><FontAwesomeIcon icon={faTrash} /> Delete</Link>\n                  </div>\n                  : undefined}\n              </CSSTransitionGroup>\n            </div>\n          </nav>\n          <Quotes quotes={currentCollection.quotes} />\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport Quotes from './Quotes'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faClock } from '@fortawesome/free-solid-svg-icons'\n\nimport './defaultView.css'\n\nexport default function DefaultView() {\n  const [ isVisible, setIsVisible ] = useState(false);\n  \n  useEffect(() => {\n    setIsVisible(true);\n\n    return () => {\n      setIsVisible(false)\n    }\n  }, [])\n\n  return (\n    <CSSTransitionGroup\n      transitionName=\"collection-overview\"\n      transitionAppearTimeout={600}\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={200}\n      component=\"div\"\n    >\n      { isVisible ? \n        <div className=\"default-view\">\n          <h2><FontAwesomeIcon icon={ faClock } /> Recent</h2>\n          <Quotes />\n        </div>\n      : undefined }\n    </CSSTransitionGroup>\n  )\n}\n","import React, { useState, useContext, useEffect } from 'react'\nimport Quotes from './Quotes';\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBook } from '@fortawesome/free-solid-svg-icons'\n\nimport { ReferencesContext } from './../../context/ReferencesContext'\n\nexport default function ReferenceOverview(props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const { id } = props.match.params\n  const { currentReference, getOneReference } = useContext(ReferencesContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n  }, [])\n\n  useEffect(() => {\n    getOneReference(id)\n    setIsVisible(false)\n    setTimeout(() => {\n      setIsVisible(true)\n    }, 280)\n  }, [id, getOneReference])\n\n  return (\n    <div>\n      <CSSTransitionGroup\n        transitionName=\"collection-overview\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        {isVisible ?\n          <div className=\"collection-overview\">\n            <h2><FontAwesomeIcon icon={faBook} /> \n              {\n                ` ${currentReference.authors ? `${currentReference.authors[0].lastName}, ` : ''} \n                ${currentReference.authors ? `${currentReference.authors[0].firstName.charAt(0)}.` : ''} \n                ${currentReference.title}`\n              }\n            </h2>\n            <Quotes quotes={currentReference.quotes}/>\n          </div>\n          : undefined}\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useContext } from 'react'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './deleteCollection.css'\n\nexport default function DeleteCollection(props) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [name, setName] = useState('')\n  const { currentCollection, deleteOneCollection } = useContext(CollectionsContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n    console.log('mounting')\n  }, [])\n\n  // useEffect(() => {\n  //   if(name === currentCollection.name){\n  //     document.querySelector('#delete').disabled\n  //   }\n  // })\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const deleteCollection = () => {\n    deleteOneCollection(currentCollection._id);\n    props.history.push('/main')\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n        <CSSTransitionGroup\n          transitionName=\"quote\"\n          transitionAppearTimeout={600}\n          transitionEnterTimeout={250}\n          transitionLeaveTimeout={200}\n          component=\"div\"\n        >\n          {isVisible ?\n            <div className=\"delete-container\">\n              <div className=\"delete-card\">\n                <div className=\"delete-close\"><button onClick={handleClose}><FontAwesomeIcon icon={faTimesCircle} /></button></div>\n                <p>This action <b>cannot</b> be undone. This will permanently remove <b>{currentCollection.name}</b> from your collections.</p>\n                <p>Please type in the name of the collection to confirm</p>\n                <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n                <button id=\"delete\" disabled={name !== currentCollection.name} onClick={deleteCollection} >Delete collection</button>\n              </div>\n            </div>\n            : undefined}\n        </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useContext} from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserFriends, faUserPlus } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport { CollectionsContext } from '../../context/CollectionsContext'\n\nimport './members.css'\n\nexport default function Members(props) {\n  const [ isVisible, setIsVisible ] = useState(false)\n  const [ email, setEmail ] = useState('')\n\n  const { currentCollection, updateOneCollection } = useContext(CollectionsContext)\n\n  useEffect(() => {\n    setIsVisible(true)\n    console.log(currentCollection)\n  }, [currentCollection])\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      props.history.goBack()\n    }, 200)\n  }\n\n  const handleAddUser = () => {\n    updateOneCollection(currentCollection._id, { email })\n  }\n\n  return (\n    <div className=\"route-container\">\n      <div className=\"back-container\" onClick={handleClose}></div>\n      <CSSTransitionGroup\n        transitionName=\"quote\"\n        transitionAppearTimeout={600}\n        transitionEnterTimeout={250}\n        transitionLeaveTimeout={200}\n        component=\"div\"\n      >\n        { isVisible ? \n          <div className=\"members-container\">\n            <div className=\"members-card\">\n              <div className=\"members-header\">\n                <FontAwesomeIcon icon={faUserFriends} />\n                <h2>Add members</h2>\n              </div>\n              <div className=\"add-members\">\n                <input type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)}/>\n                <button onClick={handleAddUser}><FontAwesomeIcon icon={faUserPlus} /></button>\n              </div>\n              <div className=\"members-list\">\n                <div>\n                  <h3>Creator</h3>\n                  <div className=\"collection-creator\">\n                    <div><img src={currentCollection.userFrom.avatar} alt={currentCollection.userFrom.avater}/></div>\n                    <p>{currentCollection.userFrom.name}</p>\n                  </div>\n                </div>\n                <h4>Current members</h4>\n                {}\n                {currentCollection.contributors.map((contributor) => (\n                  <div>\n                    <div><img src={contributor.avatar} alt={contributor.name} /></div> \n                    {contributor.name}\n                  </div>\n                ))}\n              </div>\n              <div className=\"pending-members\">\n                {currentCollection.pending.map((pendingContributor) => (\n                  <div>{pendingContributor}</div>\n                ))}\n              </div>\n            </div>\n          </div>\n        : undefined }\n      </CSSTransitionGroup>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Link, Switch, Route } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBook, faQuoteRight, faPlus, faFolder } from '@fortawesome/free-solid-svg-icons'\nimport { CSSTransitionGroup } from 'react-transition-group' \n\nimport Quote from '../editor/Quote'\nimport Reference from '../forms/Reference'\nimport Navbar from './Navbar'\nimport References from './References'\nimport Collection from '../forms/Collection'\nimport Collections from './Collections'\nimport CollectionOverview from './CollectionOverview'\nimport DefaultView from './DefaultView'\nimport ReferenceOverview from './ReferenceOverview'\nimport QuotesProvider from './../../context/QuotesContext'\nimport ReferencesProvider from './../../context/ReferencesContext'\nimport CollectionsProvider from './../../context/CollectionsContext'\n\nimport './layout.css'\nimport StylesProvider from '../../context/StylesContext'\nimport DeleteCollection from './DeleteCollection'\nimport Members from './Members'\n\nexport default function Layout (props) {\n  const [ isPlusActive, setIsPlusActive ] = useState(false);\n\n  useEffect(() => {\n    if(!localStorage.user) return props.history.push('/login')\n  }, [props.history])\n\n  return (\n    <StylesProvider>\n      <CollectionsProvider>\n        <ReferencesProvider>\n          <QuotesProvider>\n            <div className=\"layout-container\">\n              <Navbar history={props.history} />\n              <div className=\"layout\">\n                <Collections />\n                <References />\n                <div className=\"main-content\">\n                  <Switch>\n                    <Route exact path=\"/main\" component={DefaultView} />\n                    <Route path=\"/main/collections/:id\" component={CollectionOverview} />\n                    <Route exact path=\"/main/references/:id\" component={ReferenceOverview} />\n                  </Switch>\n                  {/* <Quotes /> */}\n                  <div className=\"add-content\">\n                    <CSSTransitionGroup\n                      transitionName=\"plus-button\"\n                      transitionEnterTimeout={250}\n                      transitionLeaveTimeout={200}\n                      component=\"div\"\n                    >\n                      {isPlusActive ?\n                        <div className=\"add-content-buttons\">\n                          <div>Add quote\n                          <Link to=\"/main/quote/add\" onClick={() => setIsPlusActive(!isPlusActive)}>\n                              <button className=\"plus-quote\"><FontAwesomeIcon icon={faQuoteRight} /></button>\n                            </Link>\n                          </div>\n                          <div>Add reference <Link to=\"/main/reference/add\"><button className=\"plus-reference\"><FontAwesomeIcon icon={faBook} /></button></Link></div>\n                          <div>Add collection <Link to=\"/main/collection/add\"><button className=\"plus-collection\"><FontAwesomeIcon icon={faFolder} /></button></Link></div>\n                        </div>\n                        : undefined}\n                    </CSSTransitionGroup>\n                    <button onClick={() => setIsPlusActive(!isPlusActive)}><FontAwesomeIcon icon={faPlus} /></button>\n                  </div>\n                </div>\n                <Switch>\n                  <Route exact path=\"/main/quote/add\" component={Quote} />\n                  <Route exact path=\"/main/quote/:id\" component={Quote} />\n                  <Route exact path=\"/main/reference/add\" component={Reference} />\n                  <Route exact path=\"/main/reference/:id/edit\" component={Reference} />\n                  <Route exact path=\"/main/collection/add\" component={Collection} />\n                  <Route exact path=\"/main/collection/:id/edit\" component={Collection} />\n                  <Route exact path=\"/main/collections/:id/delete\" component={DeleteCollection} />\n                  <Route exact path=\"/main/collections/:id/members\" component={Members} />\n                </Switch>\n              </div>\n            </div>\n          </QuotesProvider>\n        </ReferencesProvider>\n      </CollectionsProvider>\n    </StylesProvider>\n  )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Router from './Router';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport Login from './components/auth/Login'\nimport Signup from './components/auth/Signup'\nimport Landing from './components/Landing'\nimport Layout from './components/overview/Layout'\n\nexport default function Router() {\n  return (\n    <div>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Landing} />\n          <Route path=\"/main\" component={Layout} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  )\n}\n"],"sourceRoot":""}